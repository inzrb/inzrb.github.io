(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6465],{1365:function(e,s,r){"use strict";r.d(s,{iA:function(){return g},mI:function(){return d}});var a=r(8126),t=r(4771),i=r(959),n=r(5542),o=r(33),c=r(9842);let l=i.createContext(null),h=(0,o.g)({color:new t.Color,blend:2,alphaTest:.75,opacity:0,map:null},`varying vec2 vUv;
   void main() {
     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
     vUv = uv;
   }`,`varying vec2 vUv;
   uniform sampler2D map;
   uniform vec3 color;
   uniform float opacity;
   uniform float alphaTest;
   uniform float blend;
   void main() {
     vec4 sampledDiffuseColor = texture2D(map, vUv);
     gl_FragColor = vec4(color * sampledDiffuseColor.r * blend, max(0.0, (1.0 - (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) / alphaTest)) * opacity);
     #include <tonemapping_fragment>
     #include <${parseInt(t.REVISION.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
   }`),g=i.forwardRef(({children:e,temporal:s,frames:r=40,limit:a=1/0,blend:t=20,scale:o=10,opacity:c=1,alphaTest:g=.75,color:d="black",colorBlend:p=2,resolution:u=1024,toneMapped:v=!0,...f},_)=>{(0,n.e)({SoftShadowMaterial:h});let x=(0,n.z)(e=>e.gl),b=(0,n.z)(e=>e.scene),j=(0,n.z)(e=>e.camera),w=(0,n.z)(e=>e.invalidate),M=i.useRef(null),y=i.useRef(null),[N]=i.useState(()=>new m(x,b,u));i.useLayoutEffect(()=>{N.configure(M.current)},[]);let S=i.useMemo(()=>({lights:new Map,temporal:!!s,frames:Math.max(2,r),blend:Math.max(2,r===1/0?t:r),count:0,getMesh:()=>M.current,reset:()=>{N.clear();let e=M.current.material;e.opacity=0,e.alphaTest=0,S.count=0},update:(e=1)=>{let s=M.current.material;S.temporal?(s.opacity=Math.min(c,s.opacity+c/S.blend),s.alphaTest=Math.min(g,s.alphaTest+g/S.blend)):(s.opacity=c,s.alphaTest=g),y.current.visible=!0,N.prepare();for(let s=0;s<e;s++)S.lights.forEach(e=>e.update()),N.update(j,S.blend);y.current.visible=!1,N.finish()}}),[N,j,b,s,r,t,c,g]);return i.useLayoutEffect(()=>{S.reset(),S.temporal||S.frames===1/0||S.update(S.blend)}),i.useImperativeHandle(_,()=>S,[S]),(0,n.A)(()=>{(S.temporal||S.frames===1/0)&&S.count<S.frames&&S.count<a&&(w(),S.update(),S.count++)}),i.createElement("group",f,i.createElement("group",{traverse:()=>null,ref:y},i.createElement(l.Provider,{value:S},e)),i.createElement("mesh",{receiveShadow:!0,ref:M,scale:o,rotation:[-Math.PI/2,0,0]},i.createElement("planeGeometry",null),i.createElement("softShadowMaterial",{transparent:!0,depthWrite:!1,toneMapped:v,color:d,blend:p,map:N.progressiveLightMap2.texture})))}),d=i.forwardRef(({castShadow:e=!0,bias:s=.001,mapSize:r=512,size:n=5,near:o=.5,far:c=500,frames:h=1,position:g=[0,0,0],radius:d=1,amount:m=8,intensity:p=parseInt(t.REVISION.replace(/\D+/g,""))>=155?Math.PI:1,ambient:u=.5,...v},f)=>{let _=i.useRef(null),x=new t.Vector3(...g).length(),b=i.useContext(l),j=i.useCallback(()=>{let e;if(_.current)for(let s=0;s<_.current.children.length;s++)if(e=_.current.children[s],Math.random()>u)e.position.set(g[0]+t.MathUtils.randFloatSpread(d),g[1]+t.MathUtils.randFloatSpread(d),g[2]+t.MathUtils.randFloatSpread(d));else{let s=Math.acos(2*Math.random()-1)-Math.PI/2,r=2*Math.PI*Math.random();e.position.set(Math.cos(s)*Math.cos(r)*x,Math.abs(Math.cos(s)*Math.sin(r)*x),Math.sin(s)*x)}},[d,u,x,...g]),w=i.useMemo(()=>({update:j}),[j]);return i.useImperativeHandle(f,()=>w,[w]),i.useLayoutEffect(()=>{let e=_.current;return b&&b.lights.set(e.uuid,w),()=>void b.lights.delete(e.uuid)},[b,w]),i.createElement("group",(0,a.Z)({ref:_},v),Array.from({length:m},(a,t)=>i.createElement("directionalLight",{key:t,castShadow:e,"shadow-bias":s,"shadow-mapSize":[r,r],intensity:p/m},i.createElement("orthographicCamera",{attach:"shadow-camera",args:[-n,n,n,-n,o,c]}))))});class m{constructor(e,s,r=1024){this.renderer=e,this.res=r,this.scene=s,this.buffer1Active=!1,this.lights=[],this.meshes=[],this.object=null,this.clearColor=new t.Color,this.clearAlpha=0;let a={type:t.HalfFloatType,magFilter:t.NearestFilter,minFilter:t.NearestFilter};this.progressiveLightMap1=new t.WebGLRenderTarget(this.res,this.res,a),this.progressiveLightMap2=new t.WebGLRenderTarget(this.res,this.res,a),this.discardMat=new c.l,this.targetMat=new t.MeshLambertMaterial({fog:!1}),this.previousShadowMap={value:this.progressiveLightMap1.texture},this.averagingWindow={value:100},this.targetMat.onBeforeCompile=e=>{e.vertexShader="varying vec2 vUv;\n"+e.vertexShader.slice(0,-1)+"vUv = uv; gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }";let s=e.fragmentShader.indexOf("void main() {");e.fragmentShader="varying vec2 vUv;\n"+e.fragmentShader.slice(0,s)+"uniform sampler2D previousShadowMap;\n	uniform float averagingWindow;\n"+e.fragmentShader.slice(s-1,-1)+`
vec3 texelOld = texture2D(previousShadowMap, vUv).rgb;
        gl_FragColor.rgb = mix(texelOld, gl_FragColor.rgb, 1.0/ averagingWindow);
      }`,e.uniforms.previousShadowMap=this.previousShadowMap,e.uniforms.averagingWindow=this.averagingWindow}}clear(){this.renderer.getClearColor(this.clearColor),this.clearAlpha=this.renderer.getClearAlpha(),this.renderer.setClearColor("black",1),this.renderer.setRenderTarget(this.progressiveLightMap1),this.renderer.clear(),this.renderer.setRenderTarget(this.progressiveLightMap2),this.renderer.clear(),this.renderer.setRenderTarget(null),this.renderer.setClearColor(this.clearColor,this.clearAlpha),this.lights=[],this.meshes=[],this.scene.traverse(e=>{e.geometry?this.meshes.push({object:e,material:e.material}):e.isLight&&this.lights.push({object:e,intensity:e.intensity})})}prepare(){this.lights.forEach(e=>e.object.intensity=0),this.meshes.forEach(e=>e.object.material=this.discardMat)}finish(){this.lights.forEach(e=>e.object.intensity=e.intensity),this.meshes.forEach(e=>e.object.material=e.material)}configure(e){this.object=e}update(e,s=100){if(!this.object)return;this.averagingWindow.value=s,this.object.material=this.targetMat;let r=this.buffer1Active?this.progressiveLightMap1:this.progressiveLightMap2,a=this.buffer1Active?this.progressiveLightMap2:this.progressiveLightMap1,t=this.scene.background;this.scene.background=null,this.renderer.setRenderTarget(r),this.previousShadowMap.value=a.texture,this.buffer1Active=!this.buffer1Active,this.renderer.render(this.scene,e),this.renderer.setRenderTarget(null),this.scene.background=t}}},3156:function(e,s,r){"use strict";r.d(s,{m:function(){return o}});var a=r(4771),t=r(5542),i=r(959);let n=e=>e===Object(e)&&!Array.isArray(e)&&"function"!=typeof e;function o(e,s){let r=(0,t.z)(e=>e.gl),o=(0,t.D)(a.TextureLoader,n(e)?Object.values(e):e);if((0,i.useLayoutEffect)(()=>{null==s||s(o)},[s]),(0,i.useEffect)(()=>{if("initTexture"in r){let e=Array.isArray(o)?o:[o];e.forEach(r.initTexture)}},[r,o]),!n(e))return o;{let s=Object.keys(e),r={};return s.forEach(e=>Object.assign(r,{[e]:o[s.indexOf(e)]})),r}}o.preload=e=>t.D.preload(a.TextureLoader,e),o.clear=e=>t.D.clear(a.TextureLoader,e)},9842:function(e,s,r){"use strict";r.d(s,{l:function(){return t}});var a=r(33);let t=(0,a.g)({},"void main() { }","void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }")},174:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/research",function(){return r(2729)}])},2661:function(e,s,r){"use strict";var a=r(1527);r(959),s.Z=()=>(0,a.jsx)("div",{className:"spinner",children:(0,a.jsxs)("div",{className:"cube_3d",children:[(0,a.jsx)("div",{className:"back side"}),(0,a.jsx)("div",{className:"left side"}),(0,a.jsx)("div",{className:"right side"}),(0,a.jsx)("div",{className:"top side"}),(0,a.jsx)("div",{className:"bottom side"}),(0,a.jsx)("div",{className:"front side"})]})})},2729:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return w}});var a=r(1527),t=r(959),i=r(83),n=r(5542),o=r(1365),c=r(7990);let l=[{id:"p1",cover:"/assets/images/research/cover_1.png",title:"组件动画",subtitle:"Components Animation",article:[{text:"基于网页组件元素，从业务层出发，实现一系列不同风格的模块微动画。web组件包括表单输入，文本标题，通用对话框弹窗，loading预加载。",images:"/assets/images/research/rs1_1.gif"},{images:"/assets/images/research/rs1_2.gif"},{images:"/assets/images/research/rs1_3.gif"},{images:"/assets/images/research/rs1_4.gif"},{images:"/assets/images/research/rs1_5.gif"},{images:"/assets/images/research/rs1_6.gif"},{images:"/assets/images/research/rs1_7.gif"},{images:"/assets/images/research/rs1_8.gif"},{images:"/assets/images/research/rs1_9.gif"},{images:["/assets/images/research/rs1_10_1.gif","/assets/images/research/rs1_10_2.gif","/assets/images/research/rs1_10_3.gif"]},{images:["/assets/images/research/rs1_11_1.gif","/assets/images/research/rs1_11_2.gif","/assets/images/research/rs1_11_3.gif"]},{images:"/assets/images/research/rs1_12.gif"}]},{id:"p2",cover:"/assets/images/research/cover_2.png",title:"创新型动画",subtitle:"Innovative Animation",article:[{text:"创新型动画，移动端平台下利用HTML5和CSS3的特性创造出很多酷炫的动画特效。",video:{poster:"/assets/images/research/rs2_1_preview.png",src:"/assets/images/research/rs2_1.mp4"}},{video:{poster:"/assets/images/research/rs2_2_preview.png",src:"/assets/images/research/rs2_2.mp4"}}]},{id:"p3",cover:"/assets/images/research/cover_3.png",title:"轻量级移动端滑屏插件",subtitle:"MSwipe",article:[{text:"基于移动端的滑屏插件，支持水平和垂直方向，支持12种动画转场。",video:{poster:"/assets/images/research/rs3_1_preview.png",src:"/assets/images/research/rs3_1.mp4"}},{video:{poster:"/assets/images/research/rs3_1_preview.png",src:"/assets/images/research/rs3_2.mp4"}},{video:{poster:"/assets/images/research/rs3_1_preview.png",src:"/assets/images/research/rs3_3.mp4"}}]},{id:"p4",cover:"/assets/images/research/cover_4.png",title:"老虎机抽奖组件",subtitle:"Slot Machine",article:[{text:"基于JavaScript的网页小游戏——水果老虎机，在此基础上还扩展了玩法，大大提升网页的趣味性。",images:"/assets/images/research/rs4_1.gif"},{images:"/assets/images/research/rs4_2.gif"},{images:"/assets/images/research/rs4_3.gif"}]},{id:"p5",cover:"/assets/images/research/cover_5.png",title:"圣诞下雪网页动态背景特效",subtitle:"Snow Effect",article:[{text:"随着前端技术的发展，网页上的特效也逐渐丰富了起来，页面美观度得到大大的提升，雪花飘落特效，特别适合元旦、圣诞、新年等节日的气氛烘托。",video:{poster:"/assets/images/research/rs5_1_preview.png",src:"/assets/images/research/rs5_1.mp4"}},{video:{poster:"/assets/images/research/rs5_2_preview.png",src:"/assets/images/research/rs5_2.mp4"}},{video:{poster:"/assets/images/research/rs5_3_preview.png",src:"/assets/images/research/rs5_3.mp4"}},{video:{poster:"/assets/images/research/rs5_4_preview.png",src:"/assets/images/research/rs5_4.mp4"}}]},{id:"p6",cover:"/assets/images/research/cover_6.png",title:"HTML5创意画板",subtitle:"Paint Pane",article:[{text:"一个简单的平面绘图插件，类似于windows自带的绘图程序，具有三种不同风格的画笔。",images:"/assets/images/research/rs6_1.png"}]},{id:"p7",cover:"/assets/images/research/cover_7.png",title:"个性化装扮组件",subtitle:"Personalized Dress Up Components",article:[{text:"个性化装扮库,可以自由搭配，将人物的服装，页面的场景，装饰组件组合在一起，可对装饰元素进行增删，缩放，移动，旋转等操作，最终拼成个性化的图片，用户可以分享或者保存至手机中。为了让功能更完善，还可以记录用户的操作，即便用户误关闭页面依然能恢复之前的编辑状态。",video:{poster:"/assets/images/research/rs7_1_preview.png",src:"/assets/images/research/rs7_1.mp4"}}]},{id:"p8",cover:"/assets/images/research/cover_8.png",title:"动画序列帧工具",subtitle:"Animation Keyframes Tool",article:[{text:"模拟帧动画的类库，操作js比操作css要灵活，可以传递各种参数实现不同的要求，还可以使用回调函. 数来设置动画结束时的操作。相比css可以更好的设置循环，播放控制，顺序方向。并能在性能上有了更大的提升。",images:"/assets/images/research/rs8_1.gif"},{images:"/assets/images/research/rs8_2.gif"}]},{id:"p9",cover:"/assets/images/research/cover_9.png",title:"音频可视化跳动特效",subtitle:"Sound Visualization Effects",article:[{text:"所谓的音频图谱，其实只是将声音的响度具象化为一个波形图，响度高对应的波形高，响度低波形也就低，最终将声音以视觉的方式呈现出来。",video:{poster:"/assets/images/research/rs9_1_preview.png",src:"/assets/images/research/rs9_1.mp4"}},{video:{poster:"/assets/images/research/rs9_2_preview.png",src:"/assets/images/research/rs9_2.mp4"}}]},{id:"p10",cover:"/assets/images/research/cover_10.png",title:"微信小程序",subtitle:"WeiXin miniApp",article:[{text:"看点：根据算法精准推送短视频资源",images:"/assets/images/research/rs10_1.png"},{text:"魔音：录制一段用户声音，并根据频谱合成一段魔性哼唱的音乐",images:"/assets/images/research/rs10_2.png"},{text:"一起听：用户可以在歌房内一起听歌互动",images:"/assets/images/research/rs10_3.png"}]}];var h=r(7173);r(5e3);var g=r(9301),d=r(120),m=e=>{let{open:s,articleId:r}=(0,g.v9)(e=>e.researchReducer),t=(0,g.I0)(),i=l.filter(e=>e.id===r),{subtitle:n,title:o,article:c,cover:m}=i[0],p=e=>Array.isArray(e)?e.map((e,s)=>(0,a.jsx)("div",{className:"grid_detail_thumb",children:(0,a.jsx)("img",{src:e,alt:"",className:"grid_detail_thumb__img"},s)},s)):"string"==typeof e?(0,a.jsx)("div",{className:"grid_detail_thumb",children:(0,a.jsx)("img",{src:e,alt:"",className:"grid_detail_thumb__img"})}):void 0;return(0,a.jsxs)("div",{className:"grid_drawer ".concat(s?"open":""),children:[(0,a.jsx)("div",{className:"grid_mask"}),(0,a.jsx)("div",{className:"grid_detail",children:(0,a.jsxs)("div",{className:"grid_detail__wrap",children:[(0,a.jsx)("button",{className:"grid_act_close",onClick:()=>{t((0,d.Fl)(!1))},children:(0,a.jsx)("svg",{className:"grid_act_close__icon",children:(0,a.jsx)("use",{xlinkHref:"#icon_close"})})}),(0,a.jsx)("div",{className:"grid_detail__hd"}),(0,a.jsxs)("div",{className:"grid_detail__bd",children:[(0,a.jsx)("div",{className:"grid_item_thumb",style:{backgroundImage:"url("+m+")"}}),(0,a.jsxs)("div",{className:"grid_detail__content",children:[(0,a.jsx)("div",{className:"grid_detail_subtit",children:n}),(0,a.jsx)("div",{className:"grid_detail_title",children:o}),(0,a.jsx)("div",{className:"grid_detail_article",children:c&&c.map((e,s)=>(0,a.jsxs)("div",{className:"grid_detail_part",children:[e.text&&(0,a.jsx)("p",{className:"grid_detail_para",children:e.text}),(0,a.jsx)("div",{className:"grid_detail_view",children:p(e.images)}),e.video&&(0,a.jsx)(h.J5,{playsInline:!0,poster:e.video.poster,src:e.video.src})]},s))})]})]})]})})]})},p=r(3156),u=r(5263);let v=l.map(e=>e.cover);var f=(0,t.memo)(()=>{let{viewport:e}=(0,n.z)(e=>e),s=.9*e.width,r=.9*e.height,t=[],{factor:i}=e,{col:o,row:c,size_x:l,size_y:h}={col:3,row:4,size_x:160,size_y:160},g=r/c-h/i,d=(s/o-l/i)/2,m=g/2,p={x:g},f=-s/2+l/2/i,x=r/2-h/2/i,b=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r={x:e.x+e.sizeX/2,y:e.y-e.sizeY/2},a=Math.atan2(Math.abs(r.y),Math.abs(r.x)),t=Math.abs(Math.cos(a)*s),i=Math.abs(Math.sin(a)*s);return{startX:r.x>0?t:-t,startY:r.y>0?i:-i}};for(let e=0;e<c;e++)for(let a=0;a<o;a++){let n=0;if(e%2==0){if(a===o-1)continue;n=p.x+s/o*(a+.5)+f+d}else n=p.x+s/o*a+f+d;t.push({x:n,y:x-r/c*e-m,sizeX:l/i,sizeY:h/i})}let j=t.map((e,s)=>{let{startX:r,startY:a}=b(e);return{startX:r,startY:a,x:e.x,y:e.y,sizeX:l/i,sizeY:h/i,image:v[s],index:s}}),w=(0,u.Yz)(j,{from:e=>({position:[e.startX,e.startY,0]}),enter:{position:[0,0,0]},config:{duration:700,easing:u.Z5.easeInOutExpo},trail:30});return(0,a.jsx)(a.Fragment,{children:w((e,s)=>s?(0,a.jsx)(u.q.group,{...e,children:(0,a.jsx)(_,{position:[s.x,s.y,0],scaleX:s.sizeX,scaleY:s.sizeY,image:s.image,index:s.index})}):null)})});function _(e){let s=(0,t.useRef)(),r=(0,p.m)(e.image),[i,o]=(0,t.useState)(!1),c=(0,g.I0)();return(0,n.A)(e=>s.current.scale.setScalar(i?1+Math.sin(10*e.clock.elapsedTime)/50:1)),!function(e,s="pointer",r="auto",a=document.body){t.useEffect(()=>{if(e)return a.style.cursor=s,()=>void(a.style.cursor=r)},[e])}(i),(0,a.jsxs)("mesh",{...e,ref:s,receiveShadow:!0,castShadow:!0,onClick:s=>{s.stopPropagation(),c((0,d.Fl)(!0)),c((0,d.eT)(e.index))},onPointerOver:e=>(e.stopPropagation(),o(!0)),onPointerOut:e=>o(!1),children:[(0,a.jsx)("boxGeometry",{args:[e.scaleX,e.scaleY,.1]}),(0,a.jsx)("meshStandardMaterial",{map:r,roughness:1,transparent:!0,opacity:1,color:i?"aquamarine":"white"})]})}var x=r(2661),b=r(7848),j=r.n(b);function w(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j(),{children:(0,a.jsx)("title",{children:"Leon | Research"})}),(0,a.jsx)(t.Suspense,{fallback:(0,a.jsx)(x.Z,{}),children:(0,a.jsxs)("div",{className:"page_research",style:{backgroundImage:"url(/assets/images/research/intro.webp)"},children:[(0,a.jsxs)(i.Xz,{flat:!0,shadows:!0,dpr:1.5,camera:{position:[0,0,5],fov:45},children:[(0,a.jsx)(N,{}),(0,a.jsx)(M,{children:(0,a.jsx)(f,{})})]}),(0,a.jsx)(m,{})]})})]})}function M(e){let{children:s}=e,r=(0,t.useRef)();return(0,n.A)((e,s)=>{c.Ui.dampE(r.current.rotation,[e.pointer.y/50,-e.pointer.x/20,0],.25,s)}),(0,a.jsx)("group",{ref:r,children:s})}function y(){return(0,a.jsxs)(o.iA,{temporal:!0,frames:60,color:"#999",alphaTest:.8,scale:20,rotation:[Math.PI/2,0,0],position:[0,0,-.14],children:[(0,a.jsx)(o.mI,{amount:4,radius:15,intensity:.55,ambient:.25,position:[5,5,-10]}),(0,a.jsx)(o.mI,{amount:4,radius:5,intensity:.25,ambient:.55,position:[-5,5,-9]})]})}function N(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("ambientLight",{intensity:.7}),(0,a.jsx)("directionalLight",{position:[1,10,-2],intensity:2,"shadow-camera-far":70,"shadow-camera-left":-10,"shadow-camera-right":10,"shadow-camera-top":10,"shadow-camera-bottom":-10,"shadow-mapSize":[512,512],castShadow:!0}),(0,a.jsx)("directionalLight",{position:[-10,-10,2],intensity:3}),(0,a.jsx)(y,{})]})}}},function(e){e.O(0,[511,83,6254,9351,284,9774,2888,179],function(){return e(e.s=174)}),_N_E=e.O()}]);