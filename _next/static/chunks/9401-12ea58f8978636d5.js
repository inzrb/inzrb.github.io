(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9401],{8981:function(e,t,r){"use strict";r.d(t,{K4:function(){return S},EJ:function(){return w}});var i=r(8126),n=r(4771),o=r(959),s=r(5542),l=r(3589),a=r(507),c=r.n(a);c().func.isRequired,c().arrayOf(c().oneOfType([c().element,c().func])).isRequired;let u=new n.Matrix4,d=new n.Matrix4,p=[],h=new n.Mesh;class f extends n.Group{constructor(){super(),this.color=new n.Color("white"),this.instance={current:void 0},this.instanceKey={current:void 0}}get geometry(){var e;return null==(e=this.instance.current)?void 0:e.geometry}raycast(e,t){let r=this.instance.current;if(!r||!r.geometry||!r.material)return;h.geometry=r.geometry;let i=r.matrixWorld,o=r.userData.instances.indexOf(this.instanceKey);if(-1!==o&&!(o>r.count)){r.getMatrixAt(o,u),d.multiplyMatrices(i,u),h.matrixWorld=d,r.material instanceof n.Material?h.material.side=r.material.side:h.material.side=r.material[0].side,h.raycast(e,p);for(let e=0,r=p.length;e<r;e++){let r=p[e];r.instanceId=o,r.object=this,t.push(r)}p.length=0}}}let g=o.createContext(null),m=new n.Matrix4,x=new n.Matrix4,b=new n.Matrix4,y=new n.Vector3,v=new n.Quaternion,j=new n.Vector3,S=o.forwardRef(({context:e,children:t,...r},n)=>{o.useMemo(()=>(0,s.e)({PositionMesh:f}),[]);let a=o.useRef(),{subscribe:c,getParent:u}=o.useContext(e||g);return o.useLayoutEffect(()=>c(a),[]),o.createElement("positionMesh",(0,i.Z)({instance:u(),instanceKey:a,ref:(0,l.Z)([n,a])},r),t)}),w=o.forwardRef(({children:e,range:t,limit:r=1e3,frames:a=1/0,...c},u)=>{let[{context:d,instance:p}]=o.useState(()=>{let e=o.createContext(null);return{context:e,instance:o.forwardRef((t,r)=>o.createElement(S,(0,i.Z)({context:e},t,{ref:r})))}}),h=o.useRef(null),[f,w]=o.useState([]),[[k,E]]=o.useState(()=>{let e=new Float32Array(16*r);for(let t=0;t<r;t++)b.identity().toArray(e,16*t);return[e,new Float32Array([...Array(3*r)].map(()=>1))]});o.useEffect(()=>{h.current.instanceMatrix.needsUpdate=!0});let C=0,M=0;(0,s.A)(()=>{if(a===1/0||C<a){h.current.updateMatrix(),h.current.updateMatrixWorld(),m.copy(h.current.matrixWorld).invert(),M=Math.min(r,void 0!==t?t:r,f.length),h.current.count=M,h.current.instanceMatrix.updateRange.count=16*M,h.current.instanceColor.updateRange.count=3*M;for(let e=0;e<f.length;e++){let t=f[e].current;t.matrixWorld.decompose(y,v,j),x.compose(y,v,j).premultiply(m),x.toArray(k,16*e),h.current.instanceMatrix.needsUpdate=!0,t.color.toArray(E,3*e),h.current.instanceColor.needsUpdate=!0}C++}});let z=o.useMemo(()=>({getParent:()=>h,subscribe:e=>(w(t=>[...t,e]),()=>w(t=>t.filter(t=>t.current!==e.current)))}),[]);return o.createElement("instancedMesh",(0,i.Z)({userData:{instances:f},matrixAutoUpdate:!1,ref:(0,l.Z)([u,h]),args:[null,null,0],raycast:()=>null},c),o.createElement("instancedBufferAttribute",{attach:"instanceMatrix",count:k.length/16,array:k,itemSize:16,usage:n.DynamicDrawUsage}),o.createElement("instancedBufferAttribute",{attach:"instanceColor",count:E.length/3,array:E,itemSize:3,usage:n.DynamicDrawUsage}),"function"==typeof e?o.createElement(d.Provider,{value:z},e(p)):o.createElement(g.Provider,{value:z},e))})},7650:function(e,t,r){"use strict";r.d(t,{A:function(){return s}});var i=r(959),n=r(5542);let o=(0,i.createContext)(null);function s({iterations:e=10,ms:t=250,threshold:r=.75,step:s=.1,factor:l=.5,flipflops:a=1/0,bounds:c=e=>e>100?[60,100]:[40,60],onIncline:u,onDecline:d,onChange:p,onFallback:h,children:f}){let[g,m]=(0,i.useState)(()=>({fps:0,index:0,factor:l,flipped:0,refreshrate:0,fallback:!1,frames:[],averages:[],subscriptions:new Map,subscribe:e=>{let t=Symbol();return g.subscriptions.set(t,e.current),()=>void g.subscriptions.delete(t)}})),x=0;return(0,n.A)(()=>{let{frames:i,averages:n}=g;if(!g.fallback&&n.length<e){i.push(performance.now());let o=i[i.length-1]-i[0];if(o>=t){if(g.fps=Math.round(i.length/o*1e3)/1,g.refreshrate=Math.max(g.refreshrate,g.fps),n[g.index++%e]=g.fps,n.length===e){let[t,i]=c(g.refreshrate),o=n.filter(e=>e>=i),l=n.filter(e=>e<t);o.length>e*r&&(g.factor=Math.min(1,g.factor+s),g.flipped++,u&&u(g),g.subscriptions.forEach(e=>e.onIncline&&e.onIncline(g))),l.length>e*r&&(g.factor=Math.max(0,g.factor-s),g.flipped++,d&&d(g),g.subscriptions.forEach(e=>e.onDecline&&e.onDecline(g))),x!==g.factor&&(x=g.factor,p&&p(g),g.subscriptions.forEach(e=>e.onChange&&e.onChange(g))),g.flipped>a&&!g.fallback&&(g.fallback=!0,h&&h(g),g.subscriptions.forEach(e=>e.onFallback&&e.onFallback(g))),g.averages=[]}g.frames=[]}}}),i.createElement(o.Provider,{value:g},f)}},3156:function(e,t,r){"use strict";r.d(t,{m:function(){return l}});var i=r(4771),n=r(5542),o=r(959);let s=e=>e===Object(e)&&!Array.isArray(e)&&"function"!=typeof e;function l(e,t){let r=(0,n.z)(e=>e.gl),l=(0,n.D)(i.TextureLoader,s(e)?Object.values(e):e);if((0,o.useLayoutEffect)(()=>{null==t||t(l)},[t]),(0,o.useEffect)(()=>{if("initTexture"in r){let e=Array.isArray(l)?l:[l];e.forEach(r.initTexture)}},[r,l]),!s(e))return l;{let t=Object.keys(e),r={};return t.forEach(e=>Object.assign(r,{[e]:l[t.indexOf(e)]})),r}}l.preload=e=>n.D.preload(i.TextureLoader,e),l.clear=e=>n.D.clear(i.TextureLoader,e)},1312:function(e){"use strict";var t=Object.prototype.hasOwnProperty,r="~";function i(){}function n(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,i,o,s){if("function"!=typeof i)throw TypeError("The listener must be a function");var l=new n(i,o||e,s),a=r?r+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],l]:e._events[a].push(l):(e._events[a]=l,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function l(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1)),l.prototype.eventNames=function(){var e,i,n=[];if(0===this._eventsCount)return n;for(i in e=this._events)t.call(e,i)&&n.push(r?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},l.prototype.listeners=function(e){var t=r?r+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,o=i.length,s=Array(o);n<o;n++)s[n]=i[n].fn;return s},l.prototype.listenerCount=function(e){var t=r?r+e:e,i=this._events[t];return i?i.fn?1:i.length:0},l.prototype.emit=function(e,t,i,n,o,s){var l=r?r+e:e;if(!this._events[l])return!1;var a,c,u=this._events[l],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,i),!0;case 4:return u.fn.call(u.context,t,i,n),!0;case 5:return u.fn.call(u.context,t,i,n,o),!0;case 6:return u.fn.call(u.context,t,i,n,o,s),!0}for(c=1,a=Array(d-1);c<d;c++)a[c-1]=arguments[c];u.fn.apply(u.context,a)}else{var p,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,i);break;case 4:u[c].fn.call(u[c].context,t,i,n);break;default:if(!a)for(p=1,a=Array(d-1);p<d;p++)a[p-1]=arguments[p];u[c].fn.apply(u[c].context,a)}}return!0},l.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},l.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},l.prototype.removeListener=function(e,t,i,n){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var l=this._events[o];if(l.fn)l.fn!==t||n&&!l.once||i&&l.context!==i||s(this,o);else{for(var a=0,c=[],u=l.length;a<u;a++)(l[a].fn!==t||n&&!l[a].once||i&&l[a].context!==i)&&c.push(l[a]);c.length?this._events[o]=1===c.length?c[0]:c:s(this,o)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l},4049:function(e,t,r){"use strict";var i=r(6257);function n(){}function o(){}o.resetWarningCache=n,e.exports=function(){function e(e,t,r,n,o,s){if(s!==i){var l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:n};return r.PropTypes=r,r}},507:function(e,t,r){e.exports=r(4049)()},6257:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3589:function(e,t){"use strict";t.Z=function(e){return function(t){e.forEach(function(e){"function"==typeof e?e(t):null!=e&&(e.current=t)})}}},458:function(e,t,r){"use strict";r.d(t,{Th:function(){return K},zo:function(){return et}});var i,n=r(959),o="colors",s="sizes",l="space",a={gap:l,gridGap:l,columnGap:l,gridColumnGap:l,rowGap:l,gridRowGap:l,inset:l,insetBlock:l,insetBlockEnd:l,insetBlockStart:l,insetInline:l,insetInlineEnd:l,insetInlineStart:l,margin:l,marginTop:l,marginRight:l,marginBottom:l,marginLeft:l,marginBlock:l,marginBlockEnd:l,marginBlockStart:l,marginInline:l,marginInlineEnd:l,marginInlineStart:l,padding:l,paddingTop:l,paddingRight:l,paddingBottom:l,paddingLeft:l,paddingBlock:l,paddingBlockEnd:l,paddingBlockStart:l,paddingInline:l,paddingInlineEnd:l,paddingInlineStart:l,top:l,right:l,bottom:l,left:l,scrollMargin:l,scrollMarginTop:l,scrollMarginRight:l,scrollMarginBottom:l,scrollMarginLeft:l,scrollMarginX:l,scrollMarginY:l,scrollMarginBlock:l,scrollMarginBlockEnd:l,scrollMarginBlockStart:l,scrollMarginInline:l,scrollMarginInlineEnd:l,scrollMarginInlineStart:l,scrollPadding:l,scrollPaddingTop:l,scrollPaddingRight:l,scrollPaddingBottom:l,scrollPaddingLeft:l,scrollPaddingX:l,scrollPaddingY:l,scrollPaddingBlock:l,scrollPaddingBlockEnd:l,scrollPaddingBlockStart:l,scrollPaddingInline:l,scrollPaddingInlineEnd:l,scrollPaddingInlineStart:l,fontSize:"fontSizes",background:o,backgroundColor:o,backgroundImage:o,borderImage:o,border:o,borderBlock:o,borderBlockEnd:o,borderBlockStart:o,borderBottom:o,borderBottomColor:o,borderColor:o,borderInline:o,borderInlineEnd:o,borderInlineStart:o,borderLeft:o,borderLeftColor:o,borderRight:o,borderRightColor:o,borderTop:o,borderTopColor:o,caretColor:o,color:o,columnRuleColor:o,fill:o,outline:o,outlineColor:o,stroke:o,textDecorationColor:o,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:s,minBlockSize:s,maxBlockSize:s,inlineSize:s,minInlineSize:s,maxInlineSize:s,width:s,minWidth:s,maxWidth:s,height:s,minHeight:s,maxHeight:s,flexBasis:s,gridTemplateColumns:s,gridTemplateRows:s,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},c=(e,t)=>"function"==typeof t?{"()":Function.prototype.toString.call(t)}:t,u=()=>{let e=Object.create(null);return(t,r,...i)=>{let n=JSON.stringify(t,c);return n in e?e[n]:e[n]=r(t,...i)}},d=Symbol.for("sxs.internal"),p=(e,t)=>Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)),h=e=>{for(let t in e)return!0;return!1},{hasOwnProperty:f}=Object.prototype,g=e=>e.includes("-")?e:e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),m=/\s+(?![^()]*\))/,x=e=>t=>e(..."string"==typeof t?String(t).split(m):[t]),b={appearance:e=>({WebkitAppearance:e,appearance:e}),backfaceVisibility:e=>({WebkitBackfaceVisibility:e,backfaceVisibility:e}),backdropFilter:e=>({WebkitBackdropFilter:e,backdropFilter:e}),backgroundClip:e=>({WebkitBackgroundClip:e,backgroundClip:e}),boxDecorationBreak:e=>({WebkitBoxDecorationBreak:e,boxDecorationBreak:e}),clipPath:e=>({WebkitClipPath:e,clipPath:e}),content:e=>({content:e.includes('"')||e.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(e)?e:`"${e}"`}),hyphens:e=>({WebkitHyphens:e,hyphens:e}),maskImage:e=>({WebkitMaskImage:e,maskImage:e}),maskSize:e=>({WebkitMaskSize:e,maskSize:e}),tabSize:e=>({MozTabSize:e,tabSize:e}),textSizeAdjust:e=>({WebkitTextSizeAdjust:e,textSizeAdjust:e}),userSelect:e=>({WebkitUserSelect:e,userSelect:e}),marginBlock:x((e,t)=>({marginBlockStart:e,marginBlockEnd:t||e})),marginInline:x((e,t)=>({marginInlineStart:e,marginInlineEnd:t||e})),maxSize:x((e,t)=>({maxBlockSize:e,maxInlineSize:t||e})),minSize:x((e,t)=>({minBlockSize:e,minInlineSize:t||e})),paddingBlock:x((e,t)=>({paddingBlockStart:e,paddingBlockEnd:t||e})),paddingInline:x((e,t)=>({paddingInlineStart:e,paddingInlineEnd:t||e}))},y=/([\d.]+)([^]*)/,v=(e,t)=>e.length?e.reduce((e,r)=>(e.push(...t.map(e=>e.includes("&")?e.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(e)?`:is(${r})`:r):r+" "+e)),e),[]):t,j=(e,t)=>e in S&&"string"==typeof t?t.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,r,i,n)=>r+("stretch"===i?`-moz-available${n};${g(e)}:${r}-webkit-fill-available`:`-moz-fit-content${n};${g(e)}:${r}fit-content`)+n):String(t),S={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},w=e=>e?e+"-":"",k=(e,t,r)=>e.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(e,i,n,o,s)=>"$"==o==!!n?e:(i||"--"==o?"calc(":"")+"var(--"+("$"===o?w(t)+(s.includes("$")?"":w(r))+s.replace(/\$/g,"-"):s)+")"+(i||"--"==o?"*"+(i||"")+(n||"1")+")":"")),E=/\s*,\s*(?![^()]*\))/,C=Object.prototype.toString,M=(e,t,r,i,n)=>{let o,s,l;let a=(e,t,r)=>{let c,u;let d=e=>{var p;for(c in e){let h=64===c.charCodeAt(0),f=h&&Array.isArray(e[c])?e[c]:[e[c]];for(u of f){let e=/[A-Z]/.test(p=c)?p:p.replace(/-[^]/g,e=>e[1].toUpperCase()),f="object"==typeof u&&u&&u.toString===C&&(!i.utils[e]||!t.length);if(e in i.utils&&!f){let t=i.utils[e];if(t!==s){s=t,d(t(u)),s=null;continue}}else if(e in b){let t=b[e];if(t!==l){l=t,d(t(u)),l=null;continue}}if(h&&(c=(c.slice(1) in i.media?"@media "+i.media[c.slice(1)]:c).replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(e,t,r,i,n,o)=>{let s=y.test(t),l=.0625*(s?-1:1),[a,c]=s?[i,t]:[t,i];return"("+("="===r[0]?"":">"===r[0]===s?"max-":"min-")+a+":"+("="!==r[0]&&1===r.length?c.replace(y,(e,t,i)=>Number(t)+l*(">"===r?1:-1)+i):c)+(n?") and ("+(">"===n[0]?"min-":"max-")+a+":"+(1===n.length?o.replace(y,(e,t,r)=>Number(t)+l*(">"===n?-1:1)+r):o):"")+")"})),f){let e=h?r.concat(c):[...r],i=h?[...t]:v(t,c.split(E));void 0!==o&&n(z(...o)),o=void 0,a(u,i,e)}else void 0===o&&(o=[[],t,r]),c=h||36!==c.charCodeAt(0)?c:`--${w(i.prefix)}${c.slice(1).replace(/\$/g,"-")}`,u=f?u:"number"==typeof u?u&&e in A?String(u)+"px":String(u):k(j(e,null==u?"":u),i.prefix,i.themeMap[e]),o[0].push(`${h?`${c} `:`${g(c)}:`}${u}`)}}};d(e),void 0!==o&&n(z(...o)),o=void 0};a(e,t,r)},z=(e,t,r)=>`${r.map(e=>`${e}{`).join("")}${t.length?`${t.join(",")}{`:""}${e.join(";")}${t.length?"}":""}${Array(r.length?r.length+1:0).join("}")}`,A={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},I=e=>String.fromCharCode(e+(e>25?39:97)),R=e=>(e=>{let t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=I(t%52)+r;return I(t%52)+r})(((e,t)=>{let r=t.length;for(;r;)e=33*e^t.charCodeAt(--r);return e})(5381,JSON.stringify(e))>>>0),B=["themed","global","styled","onevar","resonevar","allvar","inline"],L=e=>{if(e.href&&!e.href.startsWith(location.origin))return!1;try{return!!e.cssRules}catch(e){return!1}},T=e=>{let t;let r=()=>{let{cssRules:e}=t.sheet;return[].map.call(e,(r,i)=>{let{cssText:n}=r,o="";if(n.startsWith("--sxs"))return"";if(e[i-1]&&(o=e[i-1].cssText).startsWith("--sxs")){if(!r.cssRules.length)return"";for(let e in t.rules)if(t.rules[e].group===r)return`--sxs{--sxs:${[...t.rules[e].cache].join(" ")}}${n}`;return r.cssRules.length?`${o}${n}`:""}return n}).join("")},i=()=>{if(t){let{rules:e,sheet:r}=t;if(!r.deleteRule){for(;3===Object(Object(r.cssRules)[0]).type;)r.cssRules.splice(0,1);r.cssRules=[]}for(let t in e)delete e[t]}let n=Object(e).styleSheets||[];for(let e of n)if(L(e)){for(let n=0,o=e.cssRules;o[n];++n){let s=Object(o[n]);if(1!==s.type)continue;let l=Object(o[n+1]);if(4!==l.type)continue;++n;let{cssText:a}=s;if(!a.startsWith("--sxs"))continue;let c=a.slice(14,-3).trim().split(/\s+/),u=B[c[0]];u&&(t||(t={sheet:e,reset:i,rules:{},toString:r}),t.rules[u]={group:l,index:n,cache:new Set(c)})}if(t)break}if(!t){let n=(e,t)=>({type:t,cssRules:[],insertRule(e,t){this.cssRules.splice(t,0,n(e,{import:3,undefined:1}[(e.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return"@media{}"===e?`@media{${[].map.call(this.cssRules,e=>e.cssText).join("")}}`:e}});t={sheet:e?(e.head||e).appendChild(document.createElement("style")).sheet:n("","text/css"),rules:{},reset:i,toString:r}}let{sheet:o,rules:s}=t;for(let e=B.length-1;e>=0;--e){let t=B[e];if(!s[t]){let r=B[e+1],i=s[r]?s[r].index:o.cssRules.length;o.insertRule("@media{}",i),o.insertRule(`--sxs{--sxs:${e}}`,i),s[t]={group:o.cssRules[i+1],index:i,cache:new Set([e])}}W(s[t])}};return i(),t},W=e=>{let t=e.group,r=t.cssRules.length;e.apply=e=>{try{t.insertRule(e,r),++r}catch(e){}}},$=Symbol(),P=u(),O=(e,t)=>P(e,()=>(...r)=>{let i={type:null,composers:new Set};for(let t of r)if(null!=t){if(t[d])for(let e of(null==i.type&&(i.type=t[d].type),t[d].composers))i.composers.add(e);else t.constructor!==Object||t.$$typeof?null==i.type&&(i.type=t):i.composers.add(_(t,e))}return null==i.type&&(i.type="span"),i.composers.size||i.composers.add(["PJLV",{},[],[],{},[]]),F(e,i,t)}),_=({variants:e,compoundVariants:t,defaultVariants:r,...i},n)=>{let o=`${w(n.prefix)}c-${R(i)}`,s=[],l=[],a=Object.create(null),c=[];for(let e in r)a[e]=String(r[e]);if("object"==typeof e&&e)for(let t in e){f.call(a,t)||(a[t]="undefined");let r=e[t];for(let e in r){let i={[t]:String(e)};"undefined"===String(e)&&c.push(t);let n=r[e],o=[i,n,!h(n)];s.push(o)}}if("object"==typeof t&&t)for(let e of t){let{css:t,...r}=e;for(let e in t="object"==typeof t&&t||{},r)r[e]=String(r[e]);let i=[r,t,!h(t)];l.push(i)}return[o,i,s,l,a,c]},F=(e,t,r)=>{let[i,n,o,s]=D(t.composers),l="function"==typeof t.type||t.type.$$typeof?(e=>{function t(){for(let r=0;r<t[$].length;r++){let[i,n]=t[$][r];e.rules[i].apply(n)}return t[$]=[],null}return t[$]=[],t.rules={},B.forEach(e=>t.rules[e]={apply:r=>t[$].push([e,r])}),t})(r):null,a=(l||r).rules,c=`.${i}${n.length>1?`:where(.${n.slice(1).join(".")})`:""}`,u=u=>{u="object"==typeof u&&u||G;let{css:d,...p}=u,h={};for(let e in o)if(delete p[e],e in u){let t=u[e];"object"==typeof t&&t?h[e]={"@initial":o[e],...t}:(t=String(t),h[e]="undefined"!==t||s.has(e)?t:o[e])}else h[e]=o[e];let f=new Set([...n]);for(let[i,n,o,s]of t.composers){r.rules.styled.cache.has(i)||(r.rules.styled.cache.add(i),M(n,[`.${i}`],[],e,e=>{a.styled.apply(e)}));let t=U(o,h,e.media),l=U(s,h,e.media,!0);for(let n of t)if(void 0!==n)for(let[t,o,s]of n){let n=`${i}-${R(o)}-${t}`;f.add(n);let l=(s?r.rules.resonevar:r.rules.onevar).cache,c=s?a.resonevar:a.onevar;l.has(n)||(l.add(n),M(o,[`.${n}`],[],e,e=>{c.apply(e)}))}for(let t of l)if(void 0!==t)for(let[n,o]of t){let t=`${i}-${R(o)}-${n}`;f.add(t),r.rules.allvar.cache.has(t)||(r.rules.allvar.cache.add(t),M(o,[`.${t}`],[],e,e=>{a.allvar.apply(e)}))}}if("object"==typeof d&&d){let t=`${i}-i${R(d)}-css`;f.add(t),r.rules.inline.cache.has(t)||(r.rules.inline.cache.add(t),M(d,[`.${t}`],[],e,e=>{a.inline.apply(e)}))}for(let e of String(u.className||"").trim().split(/\s+/))e&&f.add(e);let g=p.className=[...f].join(" ");return{type:t.type,className:g,selector:c,props:p,toString:()=>g,deferredInjector:l}};return p(u,{className:i,selector:c,[d]:t,toString:()=>(r.rules.styled.cache.has(i)||u(),i)})},D=e=>{let t="",r=[],i={},n=[];for(let[o,,,,s,l]of e)for(let e in""===t&&(t=o),r.push(o),n.push(...l),s){let t=s[e];(void 0===i[e]||"undefined"!==t||l.includes(t))&&(i[e]=t)}return[t,r,i,new Set(n)]},U=(e,t,r,i)=>{let n=[];e:for(let[o,s,l]of e){if(l)continue;let e,a=0,c=!1;for(e in o){let i=o[e],n=t[e];if(n!==i){if("object"!=typeof n||!n)continue e;{let e,t,o=0;for(let s in n){if(i===String(n[s])){if("@initial"!==s){let e=s.slice(1);(t=t||[]).push(e in r?r[e]:s.replace(/^@media ?/,"")),c=!0}a+=o,e=!0}++o}if(t&&t.length&&(s={["@media "+t.join(", ")]:s}),!e)continue e}}}(n[a]=n[a]||[]).push([i?"cv":`${e}-${o[e]}`,s,c])}return n},G={},N=u(),H=(e,t)=>N(e,()=>(...r)=>{let i=()=>{for(let i of r){let r=R(i="object"==typeof i&&i||{});if(!t.rules.global.cache.has(r)){if(t.rules.global.cache.add(r),"@import"in i){let e=[].indexOf.call(t.sheet.cssRules,t.rules.themed.group)-1;for(let r of[].concat(i["@import"]))r=r.includes('"')||r.includes("'")?r:`"${r}"`,t.sheet.insertRule(`@import ${r};`,e++);delete i["@import"]}M(i,[],[],e,e=>{t.rules.global.apply(e)})}}return""};return p(i,{toString:i})}),X=u(),q=(e,t)=>X(e,()=>r=>{let i=`${w(e.prefix)}k-${R(r)}`,n=()=>{if(!t.rules.global.cache.has(i)){t.rules.global.cache.add(i);let n=[];M(r,[],[],e,e=>n.push(e));let o=`@keyframes ${i}{${n.join("")}}`;t.rules.global.apply(o)}return i};return p(n,{get name(){return n()},toString:n})}),V=class{constructor(e,t,r,i){this.token=null==e?"":String(e),this.value=null==t?"":String(t),this.scale=null==r?"":String(r),this.prefix=null==i?"":String(i)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+w(this.prefix)+w(this.scale)+this.token}toString(){return this.computedValue}},Y=u(),Q=(e,t)=>Y(e,()=>(r,i)=>{i="object"==typeof r&&r||Object(i);let n=`.${r=(r="string"==typeof r?r:"")||`${w(e.prefix)}t-${R(i)}`}`,o={},s=[];for(let t in i)for(let r in o[t]={},i[t]){let n=`--${w(e.prefix)}${t}-${r}`,l=k(String(i[t][r]),e.prefix,t);o[t][r]=new V(r,l,t,e.prefix),s.push(`${n}:${l}`)}let l=()=>{if(s.length&&!t.rules.themed.cache.has(r)){t.rules.themed.cache.add(r);let n=`${i===e.theme?":root,":""}.${r}{${s.join(";")}}`;t.rules.themed.apply(n)}return r};return{...o,get className(){return l()},selector:n,toString:l}}),Z=u(),J=u(),K=e=>{let t=(e=>{let t=!1,r=Z(e,e=>{t=!0;let r="prefix"in(e="object"==typeof e&&e||{})?String(e.prefix):"",i="object"==typeof e.media&&e.media||{},n="object"==typeof e.root?e.root||null:globalThis.document||null,o="object"==typeof e.theme&&e.theme||{},s={prefix:r,media:i,theme:o,themeMap:"object"==typeof e.themeMap&&e.themeMap||{...a},utils:"object"==typeof e.utils&&e.utils||{}},l=T(n),c={css:O(s,l),globalCss:H(s,l),keyframes:q(s,l),createTheme:Q(s,l),reset(){l.reset(),c.theme.toString()},theme:{},sheet:l,config:s,prefix:r,getCssText:l.toString,toString:l.toString};return String(c.theme=c.createTheme(o)),c});return t||r.reset(),r})(e);return t.styled=(({config:e,sheet:t})=>J(e,()=>{let r=O(e,t);return(...e)=>{let t=r(...e),i=t[d].type,o=n.forwardRef((e,r)=>{let o=e&&e.as||i,{props:s,deferredInjector:l}=t(e);return delete s.as,s.ref=r,l?n.createElement(n.Fragment,null,n.createElement(o,s),n.createElement(l,null)):n.createElement(o,s)});return o.className=t.className,o.displayName=`Styled.${i.displayName||i.name||i}`,o.selector=t.selector,o.toString=()=>t.selector,o[d]=t[d],o}}))(t),t},ee=()=>i||(i=K()),et=(...e)=>ee().styled(...e)},8445:function(e,t,r){"use strict";r.d(t,{I:function(){return ew},B:function(){return eg}});var i,n=r(1527),o=r(959),s=r(5542),l=r(4771);let a=e=>{let t;let r=new Set,i=(e,i)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=i?i:"object"!=typeof n)?n:Object.assign({},t,n),r.forEach(r=>r(t,e))}},n=()=>t,o={setState:i,getState:n,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>r.clear()};return t=e(i,n,o),o},c=e=>e?a(e):a;var u=r(7231);let{useSyncExternalStoreWithSelector:d}=u,p=e=>{let t="function"==typeof e?c(e):e,r=(e,r)=>(function(e,t=e.getState,r){let i=d(e.subscribe,e.getState,e.getServerState||e.getState,t,r);return(0,o.useDebugValue)(i),i})(t,e,r);return Object.assign(r,t),r};function h(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(let[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0}let r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!Object.is(e[r[i]],t[r[i]]))return!1;return!0}let f=(i=(e,t)=>({log:null,paused:!1,triggerProgramsUpdate:0,startTime:0,customData:0,fpsLimit:60,overclockingFps:!1,accumulated:{totalFrames:0,gl:{calls:0,triangles:0,points:0,lines:0,counts:0},log:{gpu:0,cpu:0,mem:0,fps:0},max:{gl:{calls:0,triangles:0,points:0,lines:0,counts:0},log:{gpu:0,cpu:0,mem:0,fps:0}}},chart:{data:{fps:[],cpu:[],gpu:[],mem:[]},circularId:0},gl:void 0,objectWithMaterials:null,scene:void 0,programs:new Map,sceneLength:void 0,tab:"infos",getReport:function(){var e;let{accumulated:r,startTime:i,infos:n}=t(),o=null==(e=t().log)?void 0:e.maxMemory,{totalFrames:s,log:l,gl:a,max:c}=r,u={calls:a.calls/s,triangles:a.triangles/s,points:a.points/s,lines:a.lines/s},d={gpu:l.gpu/s,cpu:l.cpu/s,mem:l.mem/s,fps:l.fps/s},p=(window.performance.now()-i)/1e3;return{sessionTime:p,infos:n,log:d,gl:u,max:c,maxMemory:o,totalFrames:s}}}))?p(i):p,g=e=>f(e,h);Object.assign(g,f);let{getState:m,setState:x}=f,b={value:0,fpsLimit:60,isOverLimit:0},y=e=>(null==e?void 0:e.reduce((e,t)=>e+t,0))/e.length;class v{constructor(e={}){this.names=[""],this.finished=[],this.paused=!1,this.overClock=!1,this.queryHasResult=!1,this.queryCreated=!1,this.isWebGL2=!0,this.memAccums=[],this.gpuAccums=[],this.activeAccums=[],this.logsAccums={mem:[],gpu:[],cpu:[],fps:[],fpsFixed:[]},this.fpsChart=[],this.gpuChart=[],this.cpuChart=[],this.memChart=[],this.paramLogger=()=>{},this.glFinish=()=>{},this.chartLogger=()=>{},this.chartLen=60,this.logsPerSecond=10,this.maxMemory=1500,this.chartHz=10,this.startCpuProfiling=!1,this.lastCalculateFixed=0,this.chartFrame=0,this.gpuTimeProcess=0,this.chartTime=0,this.activeQueries=0,this.circularId=0,this.detected=0,this.frameId=0,this.rafId=0,this.idleCbId=0,this.checkQueryId=0,this.uuid=void 0,this.currentCpu=0,this.currentMem=0,this.paramFrame=0,this.paramTime=0,this.now=()=>{},this.t0=0,window.GLPerf=window.GLPerf||{},Object.assign(this,e),this.fpsChart=Array(this.chartLen).fill(0),this.gpuChart=Array(this.chartLen).fill(0),this.cpuChart=Array(this.chartLen).fill(0),this.memChart=Array(this.chartLen).fill(0),this.now=()=>window.performance&&window.performance.now?window.performance.now():Date.now(),this.initGpu(),this.is120hz()}initGpu(){this.uuid=l.MathUtils.generateUUID(),this.gl&&(this.isWebGL2=!0,this.extension||(this.extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")),null===this.extension&&(this.isWebGL2=!1))}is120hz(){let e=0,t=r=>{++e<20?this.rafId=window.requestAnimationFrame(t):(this.detected=Math.ceil(1e3*e/(r-this.t0)/70),window.cancelAnimationFrame(this.rafId)),this.t0||(this.t0=r)};this.rafId=window.requestAnimationFrame(t)}addUI(e){-1===this.names.indexOf(e)&&(this.names.push(e),this.gpuAccums.push(0),this.activeAccums.push(!1))}nextFps(e){let t=1e3/60,r=t-e.timeRemaining(),i=t*b.fpsLimit/10/r;!(i<0)&&(b.value=i,b.isOverLimit<25?b.isOverLimit++:x({overclockingFps:!0}))}nextFrame(e){this.frameId++;let t=e||this.now(),r=t-this.paramTime,i=0;if(this.frameId<=1)this.paramFrame=this.frameId,this.paramTime=t;else if(t>=this.paramTime){this.maxMemory=window.performance.memory?window.performance.memory.jsHeapSizeLimit/1048576:0;let n=this.frameId-this.paramFrame,o=1e3*n/r,s=m().overclockingFps?b.value:o;if(i=this.isWebGL2?this.gpuAccums[0]:this.gpuAccums[0]/r,this.isWebGL2?this.gpuAccums[0]=0:Promise.all(this.finished).then(()=>{this.gpuAccums[0]=0,this.finished=[]}),this.currentMem=Math.round(window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize/1048576:0),window.performance&&this.startCpuProfiling){window.performance.mark("cpu-finished");let e=performance.measure("cpu-duration","cpu-started","cpu-finished");this.currentCpu=e.duration,this.logsAccums.cpu.push(this.currentCpu),this.startCpuProfiling=!1}this.logsAccums.mem.push(this.currentMem),this.logsAccums.fpsFixed.push(o),this.logsAccums.fps.push(s),this.logsAccums.gpu.push(i),this.overClock&&void 0!==window.requestIdleCallback&&(b.isOverLimit>0&&s>o?b.isOverLimit--:m().overclockingFps&&x({overclockingFps:!1})),t>=this.paramTime+1e3/this.logsPerSecond&&(this.paramLogger({cpu:y(this.logsAccums.cpu),gpu:y(this.logsAccums.gpu),mem:y(this.logsAccums.mem),fps:y(this.logsAccums.fps),duration:Math.round(r),maxMemory:this.maxMemory,frameCount:n}),this.logsAccums.mem=[],this.logsAccums.fps=[],this.logsAccums.gpu=[],this.logsAccums.cpu=[],this.paramFrame=this.frameId,this.paramTime=t),this.overClock&&t-this.lastCalculateFixed>=2e3&&(this.lastCalculateFixed=e,b.fpsLimit=100*Math.round(y(this.logsAccums.fpsFixed)/10),x({fpsLimit:b.fpsLimit/10}),this.logsAccums.fpsFixed=[],this.paramFrame=this.frameId,this.paramTime=t)}if(this.detected&&this.chartFrame){let e=t-this.chartTime,i=this.chartHz*e/1e3;for(;--i>0&&this.detected;){let i=this.frameId-this.chartFrame,n=i/e*1e3,o=m().overclockingFps?b.value:n;this.fpsChart[this.circularId%this.chartLen]=o;let s=1e3/this.currentMem,l=this.currentCpu,a=(this.isWebGL2?2*this.gpuAccums[1]:Math.round(this.gpuAccums[1]/r*100))+4;a>0&&(this.gpuChart[this.circularId%this.chartLen]=a),l>0&&(this.cpuChart[this.circularId%this.chartLen]=l),s>0&&(this.memChart[this.circularId%this.chartLen]=s);for(let e=0;e<this.names.length;e++)this.chartLogger({i:e,data:{fps:this.fpsChart,gpu:this.gpuChart,cpu:this.cpuChart,mem:this.memChart},circularId:this.circularId});this.circularId++,this.chartFrame=this.frameId,this.chartTime=t}}else this.chartFrame=this.frameId,this.chartTime=t,this.circularId=0}startGpu(){let e=this.gl,t=this.extension;if(e&&t&&this.isWebGL2){let r,i,n=!1;if(this.query){this.queryHasResult=!1;let o=this.query;if(n=e.getQueryParameter(o,e.QUERY_RESULT_AVAILABLE),r=e.getParameter(t.GPU_DISJOINT_EXT),n&&!r){i=e.getQueryParameter(this.query,e.QUERY_RESULT);let t=1e-6*i;(n||r)&&(e.deleteQuery(this.query),o=null),n&&t>0&&!r&&this.activeAccums.forEach((e,r)=>{this.gpuAccums[r]=t})}}(n||!this.query)&&(this.queryCreated=!0,this.query=e.createQuery(),e.beginQuery(t.TIME_ELAPSED_EXT,this.query))}}endGpu(){let e=this.extension,t=this.gl;this.isWebGL2&&this.queryCreated&&t.getQuery(e.TIME_ELAPSED_EXT,t.CURRENT_QUERY)&&t.endQuery(e.TIME_ELAPSED_EXT)}begin(e){this.startGpu(),this.updateAccums(e)}end(e){this.endGpu(),this.updateAccums(e)}updateAccums(e){let t=this.names.indexOf(e);-1===t&&(t=this.names.length,this.addUI(e));let r=this.now();this.activeAccums[t]=!this.activeAccums[t],this.t0=r}}let j=e=>{e.forEach((e,t)=>{let{meshes:r}=e;if(!r)return;let i={total:0,type:"Triangle",data:[]};Object.keys(r).forEach(e=>{let t=r[e],{geometry:n,material:o}=t,s=n.index,l=n.attributes.position;if(!l)return;let a=1;!0===o.wireframe&&(a=0);let c=null!==s?s.count:l.count,u=n.drawRange.start*a,d=n.drawRange.count*a,p=1,h=t.count||1,f="Triangle",g=0;t.isMesh?!0===o.wireframe?(f="Line",p/=2):(f="Triangle",p/=3):t.isLine?(f="Line",t.isLineSegments?p/=2:t.isLineLoop||(p-=1)):t.isPoints?f="Point":t.isSprite&&(f="Triangle",p/=3);let m=Math.round(Math.max(0,Math.min(c,u+d)-1-u+1)*(p*h));m>g&&(g=m,i.type=f),i.total+=m,i.data.push({drawCount:m,type:f}),t.userData.drawCount={type:f,count:m}}),e.drawCounts=i})};var S=r(1312);let w=new S,k=l.Object3D.prototype.updateMatrixWorld,E=l.Object3D.prototype.updateWorldMatrix,C=l.Object3D.prototype.updateMatrix,M=["calls","triangles","points","lines"],z=["gpu","cpu","mem","fps"],A={value:0},I={value:0},R=e=>{let t=""+e;return null!==(t=t.match("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"))},B=(e,t)=>{e.defines||(e.defines={}),e.defines&&!e.defines.muiPerf&&(e.defines=Object.assign(e.defines||{},{muiPerf:e.uuid}));let r=e.uuid;return t[r]||(t[r]={meshes:{},material:e},e.needsUpdate=!0),e.needsUpdate=!1,r},L=e=>"muiPerf"===e,T=({overClock:e,logsPerSecond:t,chart:r,deepAnalyze:i,matrixUpdate:n})=>{let{gl:a,scene:c}=(0,s.z)();x({gl:a,scene:c});let u=(0,o.useMemo)(()=>{let i=new v({trackGPU:!0,overClock:e,chartLen:r?r.length:120,chartHz:r?r.hz:60,logsPerSecond:t||10,gl:a.getContext(),chartLogger:e=>{x({chart:e})},paramLogger:e=>{var t;let r={maxMemory:e.maxMemory,gpu:e.gpu,cpu:e.cpu,mem:e.mem,fps:e.fps,totalTime:e.duration,frameCount:e.frameCount};x({log:r});let{accumulated:i}=m(),n=a.info.render;i.totalFrames++,i.gl.calls+=n.calls,i.gl.triangles+=n.triangles,i.gl.points+=n.points,i.gl.lines+=n.lines,i.log.gpu+=e.gpu,i.log.cpu+=e.cpu,i.log.mem+=e.mem,i.log.fps+=e.fps;for(let e=0;e<M.length;e++){let t=M[e],r=n[t];r>i.max.gl[t]&&(i.max.gl[t]=r)}for(let t=0;t<z.length;t++){let r=z[t],n=e[r];n>i.max.log[r]&&(i.max.log[r]=n)}x({accumulated:i}),t=[r,a],w.emit("log",t)}}),n=a.getContext(),o=null,s=null,c=n.getExtension("WEBGL_debug_renderer_info"),u=n.getParameter(n.VERSION);null!=c&&(o=n.getParameter(c.UNMASKED_RENDERER_WEBGL),s=n.getParameter(c.UNMASKED_VENDOR_WEBGL)),s||(s="Unknown vendor"),o||(o=n.getParameter(n.RENDERER)),x({startTime:window.performance.now(),infos:{version:u,renderer:o,vendor:s}});let d=new Map,p=new Map;return Object.defineProperty(l.Scene.prototype,"onBeforeRender",{get(){return(...e)=>{var t;i&&i.begin("profiler"),null==(t=d.get(this))||t(...e)}},set(e){d.set(this,e)},configurable:!0}),Object.defineProperty(l.Scene.prototype,"onAfterRender",{get(){return(...e)=>{var t;i&&i.end("profiler"),null==(t=p.get(this))||t(...e)}},set(e){p.set(this,e)},configurable:!0}),i},[]);return(0,o.useEffect)(()=>{u&&(u.overClock=e||!1,!1===e&&(x({overclockingFps:!1}),b.value=0,b.isOverLimit=0),u.chartHz=(null==r?void 0:r.hz)||60,u.chartLen=(null==r?void 0:r.length)||120)},[e,u,null==r?void 0:r.length,null==r?void 0:r.hz]),(0,o.useEffect)(()=>{n&&(l.Object3D.prototype.updateMatrixWorld=function(){(this.matrixWorldNeedsUpdate||arguments[0])&&A.value++,k.apply(this,arguments)},l.Object3D.prototype.updateWorldMatrix=function(){A.value++,E.apply(this,arguments)},l.Object3D.prototype.updateMatrix=function(){I.value++,C.apply(this,arguments)}),a.info.autoReset=!1;let t=null,r=null;if(a.info)return t=(0,s.n)(function(){m().paused&&x({paused:!1}),window.performance&&(window.performance.mark("cpu-started"),u.startCpuProfiling=!0),I.value-=1,A.value=0,I.value=0,a.info&&a.info.reset()}),r=(0,s.o)(function(){var t,r;if(u&&!u.paused&&(u.nextFrame(window.performance.now()),e&&void 0!==window.requestIdleCallback&&(u.idleCbId=requestIdleCallback(u.nextFps))),i){let e={},i=new Map;c.traverse(function(t){if((t instanceof l.Mesh||t instanceof l.Points)&&t.material){let r=t.material.uuid,i=Array.isArray(t.material)&&t.material.length>1;r=i?B(t.material[1],e):B(t.material,e),e[r].meshes[t.uuid]=t}}),null==(r=null==(t=null==a?void 0:a.info)?void 0:t.programs)||r.forEach(t=>{let r=t.cacheKey.split(","),n=r[r.findIndex(L)+1];if(R(n)&&e[n]){let{material:r,meshes:o}=e[n];i.set(n,{program:t,material:r,meshes:o,drawCounts:{total:0,type:"triangle",data:[]},expand:!1,visible:!0})}}),i.size!==m().programs.size&&(j(i),x({programs:i,triggerProgramsUpdate:m().triggerProgramsUpdate++}))}}),()=>{u&&(void 0!==window.cancelIdleCallback&&window.cancelIdleCallback(u.idleCbId),window.cancelAnimationFrame(u.rafId),window.cancelAnimationFrame(u.checkQueryId)),n&&(l.Object3D.prototype.updateMatrixWorld=C),t(),r()}},[u,a,r,n]),(0,o.useEffect)(()=>{let e=(0,s.p)(function(){return u&&(u.paused=!0,I.value=0,A.value=0,x({paused:!0,log:{maxMemory:0,gpu:0,mem:0,cpu:0,fps:0,totalTime:0,frameCount:0}})),!1});return()=>{e()}},[]),null};var W=r(458);let $=(0,W.zo)("div",{position:"fixed",top:0,right:0,zIndex:9999,fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif`,backgroundColor:"rgba(36, 36, 36, .9)",color:"#fff",margin:0,minHeight:"100px",padding:"4px 0","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",userSelect:"none","&.top-left":{right:"initial",left:0},"&.bottom-left":{right:"initial",top:"initial",bottom:0,left:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.bottom-right":{top:"initial",bottom:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.minimal":{backgroundColor:"rgba(36, 36, 36, .75)"},"*":{margin:"0",padding:"0",border:"0",fontSize:"100%",lineHeight:"1",verticalAlign:"baseline"}}),P=(0,W.zo)("small",{position:"absolute",right:0,fontSize:"10px"}),O=(0,W.zo)("div",{display:"inline-flex",fontStyle:"normal",padding:0,lineHeight:"13px",fontSize:"14px",width:"62px",position:"relative",pointerEvents:"auto",cursor:"default",fontWeight:500,letterSpacing:"0px",textAlign:"left",height:"29px",whiteSpace:"nowrap",justifyContent:"space-evenly",fontVariantNumeric:"tabular-nums",small:{paddingLeft:"12px"},svg:{padding:0,color:"rgba(145, 145, 145, 0.3)",fontSize:"40px",position:"absolute",zIndex:1,maxHeight:"20px",left:" 50%",marginLeft:"-23px",top:"4px"}}),_=(0,W.zo)("span",{verticalAlign:"bottom",position:"absolute",bottom:"5px",color:"rgba(101, 197, 188, 1)",textAlign:"right",letterSpacing:"1px",fontSize:"8px",fontWeight:"500",width:"60px"}),F=(0,W.zo)("div",{display:"flex"}),D=(0,W.zo)("div",{backgroundColor:"#404040",padding:"6px",display:"block",fontSize:"12px",marginBottom:"6px",cursor:"pointer","*":{cursor:"pointer !important"},"> span":{},small:{fontSize:"9px"},"> b":{marginRight:"4px",cursor:"pointer"}}),U=(0,W.zo)("div",{height:"66px",overflow:"hidden",position:"absolute",pointerEvents:"none",display:"flex",top:"0px",justifyContent:"center",width:"100%",minWidth:"310px",margin:"0 auto",canvas:{background:"transparent !important",position:"absolute !important"}}),G=(0,W.zo)("div",{textAlign:"center",fontWeight:700,fontSize:"12px",lineHeight:"12px",display:"flex",justifyContent:"center",alignItems:"center",verticalAlign:"middle",color:"#f1f1f1",padding:"7px",width:"100%",backgroundColor:"rgba(36, 36, 37, 0.8)",zIndex:1,position:"absolute",height:"100%"}),N=(0,W.zo)("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),H=(0,W.zo)("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",float:"right",backgroundColor:"rgb(41, 43, 45)",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),X=(0,W.zo)("div",{padding:"4px 6px",fontSize:"12px",pointerEvents:"auto"}),q=(0,W.zo)("span",{fontWeight:"bold",letterSpacing:"0.08em",maxWidth:"145px",overflow:"hidden",textOverflow:"ellipsis",display:"inline-block",verticalAlign:"middle",fontSize:"11px",marginRight:"10px"}),V=(0,W.zo)("div",{maxHeight:"50vh",overflowY:"auto",marginTop:"38px"}),Y=(0,W.zo)("div",{marginTop:"0"}),Q=(0,W.zo)("div",{display:"flex",position:"relative",fontWeight:"bold",color:"#fff",lineHeight:"14px",svg:{marginRight:"4px",display:"inline-block"}}),Z=(0,W.zo)("ul",{display:"block",position:"relative",paddingLeft:"10px",margin:"6px 6px",img:{maxHeight:"60px",maxWidth:"100%",margin:"6px auto",display:"block"},"&:after":{content:"",position:"absolute",left:"0px",top:"0px",width:"1px",height:"100%",backgroundColor:"grey",transform:"translateX(-50%)",maxHeight:"50vh",overflowY:"auto"},li:{borderBottom:"1px solid #313131",display:"block",padding:"4px",margin:0,lineHeight:1,verticalAlign:"middle",height:"24px"},b:{fontWeight:"bold"},small:{textAlign:"revert",letterSpacing:"1px",fontSize:"10px",fontWeight:"500",marginLeft:"2px",color:"rgb(101, 197, 188)"}}),J=(0,W.zo)("button",{fontWeight:"bold",letterSpacing:"0.02em",backgroundColor:"rgb(41, 43, 45)",color:"rgb(211, 211, 211)",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",display:"block",verticalAlign:"middle",fontSize:"11px",padding:"5px",margin:"4px auto"}),K=(0,W.zo)("div",{display:"flex",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0 auto",color:"rgba(145, 145, 145, 1)",textAlign:"center",position:"absolute",right:0,bottom:" -20px",svg:{width:"12px",height:"12px",float:"left"}}),ee=(0,W.zo)("li",{display:"flex !important",height:"auto !important",span:{height:"40px",display:"block",position:"relative"},b:{paddingLeft:"12px"}});var et=r(961),er=r(83),Text=r(4118);let ei=(0,o.memo)(({isPerf:e,color:t,colorBlind:r,customData:i,isMemory:a,isShadersInfo:c,metric:u,fontSize:d,offsetY:p=0,offsetX:h,round:f,hasInstance:g})=>{let{width:x,height:b}=(0,s.z)(e=>e.viewport),y=(0,o.useRef)(null),v=(0,o.useRef)(null);return!function(e,t,r=[],i){let n=(0,o.useRef)(t);(0,o.useEffect)(()=>void(n.current=t),[t]),(0,o.useEffect)(()=>{let t=e=>{var t;return null==(t=n.current)?void 0:t.call(n,e)},r=(null==i?void 0:i.once)?w.once(e,t):w.on(e,t);return()=>{var n,o;return n={...i,context:r},void w.removeListener(e,t,null!=(o=null==n?void 0:n.context)?o:null,null==n?void 0:n.once)}},[e,null==i?void 0:i.once,...r])}("log",function([t,n]){var o;if(!t||!y.current||(i&&(y.current.text=(Math.round(m().customData*Math.pow(10,f))/Math.pow(10,f)).toFixed(f)),!u))return;let s=t[u];if(c)s=null==(o=n.info.programs)?void 0:o.length;else if("matriceCount"===u)s=I.value;else if(!e&&n.info.render){let e=a?n.info.memory:n.info.render;s=e[u]}if("fps"===u&&(y.current.color=m().overclockingFps?eg(r).overClock.toString():`rgb(${eg(r).fps.toString()})`),y.current.text=(Math.round(s*Math.pow(10,f))/Math.pow(10,f)).toFixed(f),g){let e;let t=n.info.instance;if(void 0===t&&"matriceCount"!==u)return;(e="matriceCount"===u?A.value:t[u])>0?(y.current.fontSize=d/1.15,v.current.fontSize=s>0?d/1.4:d,y.current.position.y=b/2-p-d/1.9,v.current.text=" \xb1	"+(Math.round(e*Math.pow(10,f))/Math.pow(10,f)).toFixed(f)):(v.current.text&&(v.current.text=""),y.current.position.y=b/2-p-d,y.current.fontSize=d)}I.value-=1,y.current.updateMatrix(),y.current.matrixWorld.copy(y.current.matrix)}),(0,n.jsxs)(o.Suspense,{fallback:null,children:[(0,n.jsxs)(Text.x,{textAlign:"justify",matrixAutoUpdate:!1,ref:y,fontSize:d,position:[-x/2+h+d,b/2-p-d,0],color:t,characters:"0123456789",onUpdate:e=>{e.updateMatrix(),I.value-=1,e.matrixWorld.copy(e.matrix)},children:[(0,n.jsx)("meshBasicMaterial",{blending:l.NormalBlending}),"0"]}),g&&(0,n.jsx)(Text.x,{textAlign:"justify",matrixAutoUpdate:!1,ref:v,fontSize:8,position:[-x/2+h+d,b/2-p-1.15*d,0],color:"lightgrey",characters:"0123456789",onUpdate:e=>{e.updateMatrix(),I.value-=1,e.matrixWorld.copy(e.matrix)},children:(0,n.jsx)("meshBasicMaterial",{blending:l.NormalBlending})})]})}),en=({colorBlind:e,customData:t,minimal:r,matrixUpdate:i})=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ei,{colorBlind:e,color:`rgb(${eg(e).fps.toString()})`,isPerf:!0,metric:"fps",fontSize:14,offsetX:140,round:0}),(0,n.jsx)(ei,{color:`rgb(${eg(e).cpu.toString()})`,isPerf:!0,metric:"cpu",fontSize:14,offsetX:72,round:3}),(0,n.jsx)(ei,{color:`rgb(${eg(e).gpu.toString()})`,isPerf:!0,metric:"gpu",fontSize:14,offsetX:10,round:3}),r?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ei,{metric:"calls",fontSize:14,offsetX:200,round:0,hasInstance:!0}),(0,n.jsx)(ei,{metric:"triangles",fontSize:14,offsetX:260,round:0,hasInstance:!0}),(0,n.jsx)(ei,{isMemory:!0,metric:"geometries",fontSize:14,offsetY:30,offsetX:0,round:0}),(0,n.jsx)(ei,{isMemory:!0,metric:"textures",fontSize:14,offsetY:30,offsetX:80,round:0}),(0,n.jsx)(ei,{isShadersInfo:!0,metric:"programs",fontSize:14,offsetY:30,offsetX:140,round:0}),(0,n.jsx)(ei,{metric:"lines",fontSize:14,offsetY:30,offsetX:200,round:0,hasInstance:!0}),(0,n.jsx)(ei,{metric:"points",fontSize:14,offsetY:30,offsetX:260,round:0,hasInstance:!0}),i&&(0,n.jsx)(ei,{isPerf:!0,metric:"matriceCount",fontSize:14,offsetY:30,offsetX:320,round:0,hasInstance:!0})]}),t&&(0,n.jsx)(ei,{color:`rgb(${eg(e).custom.toString()})`,customData:t,fontSize:14,offsetY:0,offsetX:r?200:320,round:t.round||2})]}),eo=({colorBlind:e,minimal:t,chart:r={length:120,hz:60}})=>{let i=(0,o.useMemo)(()=>({fps:new Float32Array(3*r.length),cpu:new Float32Array(3*r.length),gpu:new Float32Array(3*r.length)}),[r]),a=(0,o.useRef)(null),c=(0,o.useRef)(null),u=(0,o.useRef)(null),d=(0,o.useRef)(null),p=(0,o.useMemo)(()=>new l.Vector3(0,0,0),[]),h=(e,r=1,i,n)=>{let o=0,{width:s,height:l}=n,a=m().chart.data[e];if(!a||0===a.length)return;let c=t?2:6,u=t?12:50,d=a.length;for(let e=0;e<d;e++){let t=(m().chart.circularId+e+1)%d;void 0!==a[t]&&(a[t]>o&&(o=a[t]*r),p.set(c+e/(d-1)*(s-2*c)-s/2,Math.min(100,a[t])*r/100*(l-2*c-u)-l/2,0),p.toArray(i.attributes.position.array,3*e))}i.attributes.position.needsUpdate=!0};return(0,s.A)(function({viewport:t}){h("fps",1,a.current,t),c.current&&c.current.color.set(m().overclockingFps?eg(e).overClock.toString():`rgb(${eg(e).fps.toString()})`),h("gpu",5,u.current,t),h("cpu",5,d.current,t)}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("line",{onUpdate:e=>{e.updateMatrix(),I.value-=1,e.matrixWorld.copy(e.matrix)},children:[(0,n.jsx)("bufferGeometry",{ref:a,children:(0,n.jsx)("bufferAttribute",{attach:"attributes-position",count:r.length,array:i.fps,itemSize:3,usage:l.DynamicDrawUsage,needsUpdate:!0})}),(0,n.jsx)("lineBasicMaterial",{ref:c,color:`rgb(${eg(e).fps.toString()})`,transparent:!0,opacity:.5})]}),(0,n.jsxs)("line",{onUpdate:e=>{e.updateMatrix(),I.value-=1,e.matrixWorld.copy(e.matrix)},children:[(0,n.jsx)("bufferGeometry",{ref:u,children:(0,n.jsx)("bufferAttribute",{attach:"attributes-position",count:r.length,array:i.gpu,itemSize:3,usage:l.DynamicDrawUsage,needsUpdate:!0})}),(0,n.jsx)("lineBasicMaterial",{color:`rgb(${eg(e).gpu.toString()})`,transparent:!0,opacity:.5})]}),(0,n.jsxs)("line",{onUpdate:e=>{e.updateMatrix(),I.value-=1,e.matrixWorld.copy(e.matrix)},children:[(0,n.jsx)("bufferGeometry",{ref:d,children:(0,n.jsx)("bufferAttribute",{attach:"attributes-position",count:r.length,array:i.cpu,itemSize:3,usage:l.DynamicDrawUsage,needsUpdate:!0})}),(0,n.jsx)("lineBasicMaterial",{color:`rgb(${eg(e).cpu.toString()})`,transparent:!0,opacity:.5})]})]})},es=({colorBlind:e,chart:t,customData:r,matrixUpdate:i,showGraph:s=!0,antialias:l=!0,minimal:a})=>{let c=(0,o.useRef)(void 0),u=g(e=>e.paused);return(0,n.jsxs)(U,{style:{display:"flex",position:"absolute",height:`${a?37:s?100:60}px`,minWidth:`${a?"100px":r?"370px":"310px"}`},children:[(0,n.jsx)(er.Xz,{ref:c,orthographic:!0,dpr:l?[1,2]:1,gl:{antialias:!0,alpha:!0,stencil:!1,depth:!1},onCreated:({scene:e})=>{e.traverse(e=>{e.matrixWorldAutoUpdate=!1,e.matrixAutoUpdate=!1})},flat:!0,style:{marginBottom:"-42px",position:"relative",pointerEvents:"none",background:"transparent !important",height:`${a?37:s?100:60}px`},children:u?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(el,{}),(0,n.jsx)(en,{customData:r,minimal:a,matrixUpdate:i}),s&&(0,n.jsx)(eo,{colorBlind:e,minimal:a,chart:t})]})}),u&&(0,n.jsxs)(G,{children:[(0,n.jsx)(et.fpf,{})," PAUSED"]})]})},el=()=>((0,s.A)(function({gl:e,scene:t,camera:r}){r.updateMatrix(),I.value-=1,r.matrixWorld.copy(r.matrix),r.matrixWorldInverse.copy(r.matrixWorld).invert(),e.render(t,r),A.value=0,I.value=0},1/0),null);var ea=r(4478);let ec=(0,o.forwardRef)(({portal:e,className:t,children:r,name:i,...l},a)=>{let c=(0,s.z)(e=>e.gl),u=(0,o.useRef)(null),d=(0,o.useRef)(null),p=(null==e?void 0:e.current)!=null?e.current:c.domElement.parentNode;return(0,o.useLayoutEffect)(()=>{if(!u.current||!p)return;let e=document.createElement("div"),t=d.current=(0,ea.createRoot)(e);return p.appendChild(e),()=>{t.unmount(),d.current=null,p.removeChild(e)}},[p]),(0,o.useLayoutEffect)(()=>{let e=d.current;e&&e.render((0,n.jsx)("div",{ref:a,className:t,children:r}))}),(0,n.jsx)("group",{name:i,...l,ref:u})}),eu=(e,t)=>({name:e,url:t.image.currentSrc,encoding:(e=>{switch(e){case 3e3:return"LinearEncoding";case 3001:return"sRGBEncoding";case 3002:return"RGBEEncoding";case 3003:return"LogLuvEncoding";case 3004:return"RGBM7Encoding";case 3005:return"RGBM16Encoding";case 3006:return"RGBDEncoding";case 3007:return"GammaEncoding";default:return"ClampToEdgeWrapping"}})(t.encoding),wrapT:(e=>{switch(e){case 1e3:return"RepeatWrapping";case 1001:default:return"ClampToEdgeWrapping";case 1002:return"MirroredRepeatWrapping"}})(t.wrapT),flipY:t.flipY.toString()}),ed=({program:e,material:t,setTexNumber:r})=>{let i=g(e=>e.gl),[s,l]=(0,o.useState)(null);return(0,o.useEffect)(()=>{if(i){let i=null==e?void 0:e.getUniforms(),n=0,o=new Map;i.seq.forEach(e=>{if(!e.id.includes("uTroika")&&"isOrthographic"!==e.id&&"uvTransform"!==e.id&&"lightProbe"!==e.id&&"projectionMatrix"!==e.id&&"viewMatrix"!==e.id&&"normalMatrix"!==e.id&&"modelMatrix"!==e.id&&"modelViewMatrix"!==e.id){let r=[],i={name:e.id};e.cache&&(e.cache.forEach(e=>{void 0!==e&&r.push(e.toString().substring(0,4))}),i.value=r.join(),t[e.id]&&t[e.id].image&&t[e.id].image&&(n++,i.value=eu(e.id,t[e.id])),i.value||(i.value="empty"),o.set(e.id,i))}}),t.uniforms&&Object.keys(t.uniforms).forEach(e=>{let r=t.uniforms[e];if(r.value){let{value:t}=r,i={name:e};if(e.includes("uTroika"))return;if(t.isTexture)n++,i.value=eu(e,t);else{let e=JSON.stringify(t);try{e=JSON.stringify(t)}catch(r){e=t.toString()}i.value=e}o.set(e,i)}}),n>0&&r(n),l(o)}},[]),(0,n.jsx)(Z,{children:s&&Array.from(s.values()).map(e=>(0,n.jsx)("span",{children:"string"==typeof e.value?(0,n.jsx)("li",{children:(0,n.jsxs)("span",{children:[e.name," :"," ",(0,n.jsxs)("b",{children:[e.value.substring(0,30),e.value.length>30?"...":""]})]})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("li",{children:(0,n.jsxs)("b",{children:[e.value.name,":"]})}),(0,n.jsxs)("div",{children:[Object.keys(e.value).map(t=>"name"!==t?(0,n.jsx)("div",{children:"url"===t?(0,n.jsx)("a",{href:e.value[t],target:"_blank",children:(0,n.jsx)("img",{src:e.value[t]})}):(0,n.jsxs)("li",{children:[t,": ",(0,n.jsx)("b",{children:e.value[t]})]})},t):null),(0,n.jsxs)(J,{onClick:()=>{var r;console.info(t[e.value.name]||(null==(r=null==t?void 0:t.uniforms[e.value.name])?void 0:r.value))},children:["console.info(",e.value.name,");"]})]})]})},e.name))})},ep=({el:e})=>{g(e=>e.log);let t=g(e=>e.gl);return(0,n.jsx)(n.Fragment,{children:e.drawCounts.total>0&&(0,n.jsxs)(O,{style:{height:"auto",width:"auto",margin:"0 4px"},children:["Triangle"===e.drawCounts.type?(0,n.jsx)(et.vVm,{style:{top:"-1px"}}):(0,n.jsx)(et.X4t,{style:{top:"-1px"}}),e.drawCounts.total,(0,n.jsxs)("small",{children:[e.drawCounts.type,"s"]}),t&&(0,n.jsxs)(_,{style:{bottom:"-10px",width:"40px",fontWeight:"bold"},children:[e.visible&&!e.material.wireframe?(e=>{if(!t)return 0;let r=Math.round(e.drawCounts.total/(t.info.render.triangles+t.info.render.lines+t.info.render.points)*1e3)/10;return isFinite(r)&&r||0})(e):0,"%"]})]})})},eh=({el:e})=>{let[t,r]=(0,o.useState)(e.visible),[i,s]=(0,o.useState)(e.expand),[l,a]=(0,o.useState)(0),{meshes:c,program:u,material:d}=e;return(0,n.jsxs)(X,{children:[(0,n.jsxs)(D,{onClick:()=>{e.expand=!i,Object.keys(c).forEach(e=>{let t=c[e];t.material.wireframe=!1}),s(!i)},children:[(0,n.jsx)(N,{style:{marginRight:"6px"},children:i?(0,n.jsx)("span",{children:(0,n.jsx)(et.AS7,{})}):(0,n.jsx)("span",{children:(0,n.jsx)(et.$lt,{})})}),u&&(0,n.jsxs)("span",{children:[(0,n.jsx)(q,{children:u.name}),(0,n.jsxs)(O,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[(0,n.jsx)(et.uQz,{style:{top:"-1px"}}),Object.keys(c).length,(0,n.jsx)("small",{children:Object.keys(c).length>1?"users":"user"})]}),l>0&&(0,n.jsxs)(O,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[(0,n.jsx)(et.XBm,{style:{top:"-1px"}}),l,(0,n.jsx)("small",{children:"tex"})]}),(0,n.jsx)(ep,{el:e}),"300 es"===d.glslVersion&&(0,n.jsxs)(O,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[(0,n.jsx)(et.WCv,{style:{top:"-1px"}}),"300",(0,n.jsx)("small",{children:"es"}),(0,n.jsx)(_,{style:{bottom:"-10px",width:"40px"},children:"glsl"})]})]}),(0,n.jsx)(H,{onPointerEnter:()=>{Object.keys(c).forEach(e=>{let t=c[e];t.material.wireframe=!0})},onPointerLeave:()=>{Object.keys(c).forEach(e=>{let t=c[e];t.material.wireframe=!1})},onClick:i=>{i.stopPropagation(),Object.keys(c).forEach(i=>{let n=c[i],o=!t;n.visible=o,e.visible=o,r(o)})},children:t?(0,n.jsx)(et.hsE,{}):(0,n.jsx)(et.L52,{})})]}),(0,n.jsxs)("div",{style:{maxHeight:i?"9999px":0,overflow:"hidden"},children:[(0,n.jsxs)(Q,{children:[(0,n.jsx)(et.Eik,{})," Uniforms:"]}),(0,n.jsx)(ed,{program:u,material:d,setTexNumber:a}),(0,n.jsxs)(Q,{children:[(0,n.jsx)(et.FMB,{})," Geometries:"]}),(0,n.jsx)(Z,{children:c&&Object.keys(c).map(e=>c[e]&&c[e].geometry&&(0,n.jsxs)(ee,{children:[(0,n.jsxs)("span",{children:[c[e].geometry.type,": "]}),c[e].userData&&c[e].userData.drawCount&&(0,n.jsxs)("b",{children:[(0,n.jsxs)("div",{children:[c[e].userData.drawCount.count,(0,n.jsxs)("small",{children:[" ",c[e].userData.drawCount.type,"s"]})]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:[Math.round(function(e){let t=0;for(let r in e.attributes){let i=e.getAttribute(r);t+=i.count*i.itemSize*i.array.BYTES_PER_ELEMENT}let r=e.getIndex();return t+(r?r.count*r.itemSize*r.array.BYTES_PER_ELEMENT:0)}(c[e].geometry)/1024*1e3)/1e3,"Kb",(0,n.jsx)("small",{children:" memory used"})]})]})]},e))}),(0,n.jsxs)(J,{onClick:()=>{console.info(d)},children:["console.info(",d.type,")"]})]})]})},ef=()=>{g(e=>e.triggerProgramsUpdate);let e=g(e=>e.programs);return(0,n.jsx)(Y,{children:e&&Array.from(e.values()).map(e=>e&&e?(0,n.jsx)(eh,{el:e},e.material.uuid):null)})},eg=e=>({overClock:"#ff6eff",fps:e?"100, 143, 255":"238,38,110",cpu:e?"254, 254, 98":"66,226,46",gpu:e?"254,254,254":"253,151,31",custom:e?"86,180,233":"40,255,255"}),em=({showGraph:e,colorBlind:t})=>{let r=g(e=>e.overclockingFps),i=g(e=>e.fpsLimit);return(0,n.jsxs)(_,{style:e?{color:r?eg(t).overClock.toString():`rgb(${eg(t).fps})`}:{},children:["FPS ",r?`${i}🚀`:""]})},ex=({showGraph:e,colorBlind:t,customData:r,minimal:i})=>{let o=g(e=>e.gl);return o?(0,n.jsxs)(F,{children:[(0,n.jsxs)(O,{children:[(0,n.jsx)(et.YGl,{}),(0,n.jsx)(_,{style:e?{color:`rgb(${eg(t).gpu.toString()})`}:{},children:"GPU"}),(0,n.jsx)(P,{children:"ms"})]}),(0,n.jsxs)(O,{children:[(0,n.jsx)(et.yw7,{}),(0,n.jsx)(_,{style:e?{color:`rgb(${eg(t).cpu.toString()})`}:{},children:"CPU"}),(0,n.jsx)(P,{children:"ms"})]}),(0,n.jsxs)(O,{children:[(0,n.jsx)(et.lFK,{}),(0,n.jsx)(em,{showGraph:e,colorBlind:t})]}),!i&&o&&(0,n.jsxs)(O,{children:[(0,n.jsx)(et.ux3,{}),(0,n.jsx)(_,{children:1===o.info.render.calls?"call":"calls"})]}),!i&&o&&(0,n.jsxs)(O,{children:[(0,n.jsx)(et.vVm,{}),(0,n.jsx)(_,{children:"Triangles"})]}),r&&(0,n.jsxs)(O,{children:[(0,n.jsx)(et.eJP,{}),(0,n.jsx)(_,{style:e?{color:`rgb(${eg(t).custom})`}:{},children:r.name}),r.info&&(0,n.jsx)(P,{children:r.info})]})]}):null},eb=({showGraph:e,colorBlind:t,deepAnalyze:r,customData:i,matrixUpdate:o,openByDefault:s,minimal:l})=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ex,{showGraph:e,colorBlind:t,customData:i,minimal:l}),!l&&(0,n.jsx)(ej,{matrixUpdate:o,openByDefault:s,deepAnalyze:r,showGraph:e})]}),ey=({matrixUpdate:e})=>(0,n.jsxs)("div",{children:[(0,n.jsxs)(O,{children:[(0,n.jsx)(et.Ui3,{}),(0,n.jsx)(_,{children:"Geometries"})]}),(0,n.jsxs)(O,{children:[(0,n.jsx)(et.XBm,{}),(0,n.jsx)(_,{children:"Textures"})]}),(0,n.jsxs)(O,{children:[(0,n.jsx)(et.X4t,{}),(0,n.jsx)(_,{children:"shaders"})]}),(0,n.jsxs)(O,{children:[(0,n.jsx)(et.V_R,{}),(0,n.jsx)(_,{children:"Lines"})]}),(0,n.jsxs)(O,{children:[(0,n.jsx)(et.ZNd,{}),(0,n.jsx)(_,{children:"Points"})]}),e&&(0,n.jsxs)(O,{children:[(0,n.jsx)(et.$Pd,{}),(0,n.jsx)(_,{children:"Matrices"})]})]}),ev=({tab:e,title:t,set:r})=>{let i=g(e=>e.tab);return(0,n.jsx)(N,{className:`${i===e?" __perf_toggle_tab_active":""}`,onClick:()=>{r(!0),x({tab:e})},children:(0,n.jsx)("span",{children:t})})},ej=({openByDefault:e,showGraph:t,deepAnalyze:r,matrixUpdate:i})=>{let[s,l]=o.useState(e);return(0,n.jsxs)("span",{children:[(0,n.jsx)(eS,{show:s,showGraph:t,matrixUpdate:i}),e&&!r?null:(0,n.jsxs)(K,{className:"__perf_toggle",children:[r&&(0,n.jsx)(ev,{tab:"programs",title:"Programs",set:l}),r&&(0,n.jsx)(ev,{tab:"infos",title:"Infos",set:l}),(0,n.jsx)(N,{onClick:()=>{l(!s)},children:s?(0,n.jsxs)("span",{children:[(0,n.jsx)(et.AS7,{})," Minimize"]}):(0,n.jsxs)("span",{children:[(0,n.jsx)(et.$lt,{})," More"]})})]})]})},eS=({show:e,showGraph:t,matrixUpdate:r})=>{let i=g(e=>e.tab);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ey,{matrixUpdate:r}),e&&(0,n.jsx)("div",{children:(0,n.jsx)(V,{style:{marginTop:t?"38px":0},children:"programs"===i&&(0,n.jsx)(ef,{})})})]})},ew=({showGraph:e=!0,colorBlind:t=!1,openByDefault:r=!0,className:i,overClock:s=!1,style:l,position:a="top-right",chart:c,logsPerSecond:u,deepAnalyze:d=!1,antialias:p=!0,customData:h,matrixUpdate:f,minimal:g})=>{let m=(0,o.useRef)(null);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(T,{logsPerSecond:u,chart:c,overClock:s,deepAnalyze:d,matrixUpdate:f}),(0,n.jsx)(ec,{name:"r3f-perf",children:(0,n.jsxs)($,{className:(i?" ".concat(i):" ")+` ${a||""} ${g?"minimal":""}`,style:{minHeight:g?"37px":e?"100px":"60px",...l},ref:m,children:[(0,n.jsx)(es,{perfContainerRef:m,colorBlind:t,chart:c,showGraph:e,antialias:p,customData:h,minimal:g,matrixUpdate:f}),(0,n.jsx)(eb,{colorBlind:t,showGraph:e,deepAnalyze:d,openByDefault:r,customData:h,matrixUpdate:f,minimal:g})]})})]})}}}]);