(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1675],{2377:function(e,t,r){"use strict";r.d(t,{E:function(){return Image}});var n=r(8126),o=r(959),a=r(4771),i=r(5542),u=r(33),c=r(3156);let s=(0,u.g)({color:new a.Color("white"),scale:[1,1],imageBounds:[1,1],map:null,zoom:1,grayscale:0,opacity:1},`
  varying vec2 vUv;
  void main() {
    gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
    vUv = uv;
  }
`,`
  // mostly from https://gist.github.com/statico/df64c5d167362ecf7b34fca0b1459a44
  varying vec2 vUv;
  uniform vec2 scale;
  uniform vec2 imageBounds;
  uniform vec3 color;
  uniform sampler2D map;
  uniform float zoom;
  uniform float grayscale;
  uniform float opacity;
  const vec3 luma = vec3(.299, 0.587, 0.114);
  vec4 toGrayscale(vec4 color, float intensity) {
    return vec4(mix(color.rgb, vec3(dot(color.rgb, luma)), intensity), color.a);
  }
  vec2 aspect(vec2 size) {
    return size / min(size.x, size.y);
  }
  void main() {
    vec2 s = aspect(scale);
    vec2 i = aspect(imageBounds);
    float rs = s.x / s.y;
    float ri = i.x / i.y;
    vec2 new = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x);
    vec2 offset = (rs < ri ? vec2((new.x - s.x) / 2.0, 0.0) : vec2(0.0, (new.y - s.y) / 2.0)) / new;
    vec2 uv = vUv * s / new + offset;
    vec2 zUv = (uv - vec2(0.5, 0.5)) / zoom + vec2(0.5, 0.5);
    gl_FragColor = toGrayscale(texture2D(map, zUv) * vec4(color, opacity), grayscale);
    
    #include <tonemapping_fragment>
    #include <${parseInt(a.REVISION.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
  }
`),l=o.forwardRef(({children:e,color:t,segments:r=1,scale:a=1,zoom:u=1,grayscale:c=0,opacity:l=1,texture:f,toneMapped:p,transparent:d,...m},y)=>{(0,i.e)({ImageMaterial:s});let h=Array.isArray(a)?[a[0],a[1]]:[a,a],v=[f.image.width,f.image.height];return o.createElement("mesh",(0,n.Z)({ref:y,scale:Array.isArray(a)?[...a,1]:a},m),o.createElement("planeGeometry",{args:[1,1,r,r]}),o.createElement("imageMaterial",{color:t,map:f,zoom:u,grayscale:c,opacity:l,scale:h,imageBounds:v,toneMapped:p,transparent:d}),e)}),f=o.forwardRef(({url:e,...t},r)=>{let a=(0,c.m)(e);return o.createElement(l,(0,n.Z)({},t,{texture:a,ref:r}))}),p=o.forwardRef(({url:e,...t},r)=>o.createElement(l,(0,n.Z)({},t,{ref:r}))),Image=o.forwardRef((e,t)=>{if(e.url)return o.createElement(f,(0,n.Z)({},e,{ref:t}));if(e.texture)return o.createElement(p,(0,n.Z)({},e,{ref:t}));throw Error("<Image /> requires a url or texture")})},6463:function(e,t,r){"use strict";r.d(t,{q:function(){return i}});var n=r(4771),o=r(959),a=r(5542);function i({all:e,scene:t,camera:r}){let i=(0,a.z)(({gl:e})=>e),u=(0,a.z)(({camera:e})=>e),c=(0,a.z)(({scene:e})=>e);return o.useLayoutEffect(()=>{let o=[];e&&(t||c).traverse(e=>{!1===e.visible&&(o.push(e),e.visible=!0)}),i.compile(t||c,r||u);let a=new n.WebGLCubeRenderTarget(128),s=new n.CubeCamera(.01,1e5,a);s.update(i,t||c),a.dispose(),o.forEach(e=>e.visible=!1)},[]),null}},33:function(e,t,r){"use strict";r.d(t,{g:function(){return o}});var n=r(4771);function o(e,t,r,o){let a=class extends n.ShaderMaterial{constructor(a={}){let i=Object.entries(e);super({uniforms:i.reduce((e,[t,r])=>{let o=n.UniformsUtils.clone({[t]:{value:r}});return{...e,...o}},{}),vertexShader:t,fragmentShader:r}),this.key="",i.forEach(([e])=>Object.defineProperty(this,e,{get:()=>this.uniforms[e].value,set:t=>this.uniforms[e].value=t})),Object.assign(this,a),o&&o(this)}};return a.key=n.MathUtils.generateUUID(),a}},3156:function(e,t,r){"use strict";r.d(t,{m:function(){return u}});var n=r(4771),o=r(5542),a=r(959);let i=e=>e===Object(e)&&!Array.isArray(e)&&"function"!=typeof e;function u(e,t){let r=(0,o.z)(e=>e.gl),u=(0,o.D)(n.TextureLoader,i(e)?Object.values(e):e);if((0,a.useLayoutEffect)(()=>{null==t||t(u)},[t]),(0,a.useEffect)(()=>{if("initTexture"in r){let e=Array.isArray(u)?u:[u];e.forEach(r.initTexture)}},[r,u]),!i(e))return u;{let t=Object.keys(e),r={};return t.forEach(e=>Object.assign(r,{[e]:u[t.indexOf(e)]})),r}}u.preload=e=>o.D.preload(n.TextureLoader,e),u.clear=e=>o.D.clear(n.TextureLoader,e)},9890:function(e,t,r){"use strict";r.d(t,{Xs:function(){return eM},Fq:function(){return e_},vO:function(){return ew}});var n,o,a,i,u,c,s,l,f,p,d,m,y,h,v,w,_,g,x,M,b,A,E,z,C,O=r(8126),I=r(959),S=r(4478),R=r(5542),L=r(3589);function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var q=r(4771);function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function T(e,t){if(e){if("string"==typeof e)return V(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V(e,t)}}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,u=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(u)throw n}}return a}}(e,t)||T(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}new q.Vector2,new q.Vector2;var Z=function e(t,r,n){var o=this;k(this,e),P(this,"dot2",function(e,t){return o.x*e+o.y*t}),P(this,"dot3",function(e,t,r){return o.x*e+o.y*t+o.z*r}),this.x=t,this.y=r,this.z=n},F=[new Z(1,1,0),new Z(-1,1,0),new Z(1,-1,0),new Z(-1,-1,0),new Z(1,0,1),new Z(-1,0,1),new Z(1,0,-1),new Z(-1,0,-1),new Z(0,1,1),new Z(0,-1,1),new Z(0,1,-1),new Z(0,-1,-1)],B=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],D=Array(512),G=Array(512);function Q(e){var t=function(e){if("number"==typeof e)e=Math.abs(e);else if("string"==typeof e){var t=e;e=0;for(var r=0;r<t.length;r++)e=(e+(r+1)*(t.charCodeAt(r)%96))%2147483647}return 0===e&&(e=311),e}(e);return function(){var e=48271*t%2147483647;return t=e,e/2147483647}}!function(e){e>0&&e<1&&(e*=65536),(e=Math.floor(e))<256&&(e|=e<<8);for(var t,r=0;r<256;r++)t=1&r?B[r]^255&e:B[r]^e>>8&255,D[r]=D[r+256]=t,G[r]=G[r+256]=F[t%12]}(0),new function e(t){var r=this;k(this,e),P(this,"seed",0),P(this,"init",function(e){r.seed=e,r.value=Q(e)}),P(this,"value",Q(this.seed)),this.init(t)}(Math.random());var $=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)};function W(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.25,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.01,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1/0,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:$,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:.001,c="velocity_"+t;if(void 0===e.__damp&&(e.__damp={}),void 0===e.__damp[c]&&(e.__damp[c]=0),Math.abs(e[t]-r)<=u)return e[t]=r,!1;var s=2/(n=Math.max(1e-4,n)),l=i(s*o),f=e[t]-r,p=r,d=a*n;f=Math.min(Math.max(f,-d),d),r=e[t]-f;var m=(e.__damp[c]+s*f)*o;e.__damp[c]=(e.__damp[c]-s*m)*l;var y=r+(f+m)*l;return p-e[t]>0==y>p&&(y=p,e.__damp[c]=(y-p)/o),e[t]=y,!0}var N=new q.Vector3,X=new q.Quaternion,Y=new q.Quaternion,H=new q.Matrix4,J=new q.Vector3;function K(e,t,r,n,o,a,i,u){var c,s,l,f;return W(e,t,e[t]+(l=(c=r-e[t])-Math.floor(c/(s=2*Math.PI))*s,(f=Math.max(0,Math.min(s,l)))>Math.PI&&(f-=2*Math.PI),f),n,o,a,i,u)}var ee=new q.Vector2,et=new q.Vector3;function er(e,t,r,n,o,c,s){return"number"==typeof t?et.setScalar(t):Array.isArray(t)?et.set(t[0],t[1],t[2]):et.copy(t),a=W(e,"x",et.x,r,n,o,c,s),i=W(e,"y",et.y,r,n,o,c,s),u=W(e,"z",et.z,r,n,o,c,s),a||i||u}var en=new q.Vector4,eo=new q.Euler,ea=new q.Color,ei=new q.Quaternion,eu=new q.Vector4,ec=new q.Vector4,es=new q.Vector4;function el(e,t,r,n,o,a,i){Array.isArray(t)?ei.set(t[0],t[1],t[2],t[3]):ei.copy(t);var u=e.dot(ei)>0?1:-1;return ei.x*=u,ei.y*=u,ei.z*=u,ei.w*=u,w=W(e,"x",ei.x,r,n,o,a,i),_=W(e,"y",ei.y,r,n,o,a,i),g=W(e,"z",ei.z,r,n,o,a,i),x=W(e,"w",ei.w,r,n,o,a,i),eu.set(e.x,e.y,e.z,e.w).normalize(),ec.set(e.__damp.velocity_x,e.__damp.velocity_y,e.__damp.velocity_z,e.__damp.velocity_w),es.copy(eu).multiplyScalar(ec.dot(eu)/eu.dot(eu)),e.__damp.velocity_x-=es.x,e.__damp.velocity_y-=es.y,e.__damp.velocity_z-=es.z,e.__damp.velocity_w-=es.w,e.set(eu.x,eu.y,eu.z,eu.w),w||_||g||x}var ef=new q.Spherical,ep=new q.Matrix4,ed=new q.Vector3,em=new q.Quaternion,ey=new q.Vector3,eh=Object.freeze({__proto__:null,rsqw:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/(2*Math.PI);return r/Math.atan(1/t)*Math.atan(Math.sin(2*Math.PI*e*n)/t)},exp:$,linear:function(e){return e},sine:{in:function(e){return 1-Math.cos(e*Math.PI/2)},out:function(e){return Math.sin(e*Math.PI/2)},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{in:function(e){return e*e*e},out:function(e){return 1-Math.pow(1-e,3)},inOut:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}},quint:{in:function(e){return e*e*e*e*e},out:function(e){return 1-Math.pow(1-e,5)},inOut:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2}},circ:{in:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},out:function(e){return Math.sqrt(1-Math.pow(e-1,2))},inOut:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2}},quart:{in:function(e){return e*e*e*e},out:function(e){return 1- --e*e*e*e},inOut:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e}},expo:{in:function(e){return 0===e?0:Math.pow(2,10*e-10)},out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},inOut:function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}},damp:W,dampLookAt:function(e,t,r,n,o,a,i){"number"==typeof t?N.setScalar(t):Array.isArray(t)?N.set(t[0],t[1],t[2]):N.copy(t);var u=e.parent;(e.updateWorldMatrix(!0,!1),J.setFromMatrixPosition(e.matrixWorld),e&&e.isCamera||e&&e.isLight)?H.lookAt(J,N,e.up):H.lookAt(N,J,e.up),el(e.quaternion,Y.setFromRotationMatrix(H),r,n,o,a,i),u&&(H.extractRotation(u.matrixWorld),X.setFromRotationMatrix(H),el(e.quaternion,Y.copy(e.quaternion).premultiply(X.invert()),r,n,o,a,i))},dampAngle:K,damp2:function(e,t,r,a,i,u,c){return"number"==typeof t?ee.setScalar(t):Array.isArray(t)?ee.set(t[0],t[1]):ee.copy(t),n=W(e,"x",ee.x,r,a,i,u,c),o=W(e,"y",ee.y,r,a,i,u,c),n||o},damp3:er,damp4:function(e,t,r,n,o,a,i){return"number"==typeof t?en.setScalar(t):Array.isArray(t)?en.set(t[0],t[1],t[2],t[3]):en.copy(t),c=W(e,"x",en.x,r,n,o,a,i),s=W(e,"y",en.y,r,n,o,a,i),l=W(e,"z",en.z,r,n,o,a,i),f=W(e,"w",en.w,r,n,o,a,i),c||s||l||f},dampE:function(e,t,r,n,o,a,i){return Array.isArray(t)?eo.set(t[0],t[1],t[2],t[3]):eo.copy(t),p=K(e,"x",eo.x,r,n,o,a,i),d=K(e,"y",eo.y,r,n,o,a,i),m=K(e,"z",eo.z,r,n,o,a,i),p||d||m},dampC:function(e,t,r,n,o,a,i){return t instanceof q.Color?ea.copy(t):Array.isArray(t)?ea.setRGB(t[0],t[1],t[2]):ea.set(t),y=W(e,"r",ea.r,r,n,o,a,i),h=W(e,"g",ea.g,r,n,o,a,i),v=W(e,"b",ea.b,r,n,o,a,i),y||h||v},dampQ:el,dampS:function(e,t,r,n,o,a,i){return Array.isArray(t)?ef.set(t[0],t[1],t[2]):ef.copy(t),M=W(e,"radius",ef.radius,r,n,o,a,i),b=K(e,"phi",ef.phi,r,n,o,a,i),A=K(e,"theta",ef.theta,r,n,o,a,i),M||b||A},dampM:function(e,t,r,n,o,a,i){var u;return void 0===e.__damp&&(e.__damp={position:new q.Vector3,rotation:new q.Quaternion,scale:new q.Vector3},e.decompose(e.__damp.position,e.__damp.rotation,e.__damp.scale)),Array.isArray(t)?ep.set.apply(ep,function(e){if(Array.isArray(e))return V(e)}(u=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(u)||T(u)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):ep.copy(t),ep.decompose(ed,em,ey),E=er(e.__damp.position,ed,r,n,o,a,i),z=el(e.__damp.rotation,em,r,n,o,a,i),C=er(e.__damp.scale,ey,r,n,o,a,i),e.compose(e.__damp.position,e.__damp.rotation,e.__damp.scale),E||z||C}});q.BufferGeometry;let ev=I.createContext(null);function ew(){return I.useContext(ev)}function e_({eps:e=1e-5,enabled:t=!0,infinite:r,horizontal:n,pages:o=1,distance:a=1,damping:i=.25,maxSpeed:u=1/0,style:c={},children:s}){let{get:l,setEvents:f,gl:p,size:d,invalidate:m,events:y}=(0,R.z)(),[h]=I.useState(()=>document.createElement("div")),[v]=I.useState(()=>document.createElement("div")),[w]=I.useState(()=>document.createElement("div")),_=p.domElement.parentNode,g=I.useRef(0),x=I.useMemo(()=>({el:h,eps:e,fill:v,fixed:w,horizontal:n,damping:i,offset:0,delta:0,scroll:g,pages:o,range(e,t,r=0){let n=e-r,o=n+t+2*r;return this.offset<n?0:this.offset>o?1:(this.offset-n)/(o-n)},curve(e,t,r=0){return Math.sin(this.range(e,t,r)*Math.PI)},visible(e,t,r=0){let n=e-r;return this.offset>=n&&this.offset<=n+t+2*r}}),[e,i,n,o]);I.useEffect(()=>{for(let e in h.style.position="absolute",h.style.width="100%",h.style.height="100%",h.style[n?"overflowX":"overflowY"]="auto",h.style[n?"overflowY":"overflowX"]="hidden",h.style.top="0px",h.style.left="0px",c)h.style[e]=c[e];w.style.position="sticky",w.style.top="0px",w.style.left="0px",w.style.width="100%",w.style.height="100%",w.style.overflow="hidden",h.appendChild(w),v.style.height=n?"100%":`${o*a*100}%`,v.style.width=n?`${o*a*100}%`:"100%",v.style.pointerEvents="none",h.appendChild(v),_.appendChild(h),h[n?"scrollLeft":"scrollTop"]=1;let e=y.connected||p.domElement;requestAnimationFrame(()=>null==y.connect?void 0:y.connect(h));let t=l().events.compute;return f({compute(e,t){let{left:r,top:n}=_.getBoundingClientRect(),o=e.clientX-r,a=e.clientY-n;t.pointer.set(o/t.size.width*2-1,-(2*(a/t.size.height))+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),()=>{_.removeChild(h),f({compute:t}),null==y.connect||y.connect(e)}},[o,a,n,h,v,w,_]),I.useEffect(()=>{if(y.connected===h){let e=d[n?"width":"height"],o=h[n?"scrollWidth":"scrollHeight"],a=o-e,i=0,u=!0,c=!0,s=()=>{if(t&&!c&&(m(),i=h[n?"scrollLeft":"scrollTop"],g.current=i/a,r)){if(!u){if(i>=a){let e=1-x.offset;h[n?"scrollLeft":"scrollTop"]=1,g.current=x.offset=-e,u=!0}else if(i<=0){let e=1+x.offset;h[n?"scrollLeft":"scrollTop"]=o,g.current=x.offset=e,u=!0}}u&&setTimeout(()=>u=!1,40)}};h.addEventListener("scroll",s,{passive:!0}),requestAnimationFrame(()=>c=!1);let l=e=>h.scrollLeft+=e.deltaY/2;return n&&h.addEventListener("wheel",l,{passive:!0}),()=>{h.removeEventListener("scroll",s),n&&h.removeEventListener("wheel",l)}}},[h,y,d,r,x,m,n,t]);let M=0;return(0,R.A)((t,r)=>{M=x.offset,eh.damp(x,"offset",g.current,i,r,u,void 0,e),eh.damp(x,"delta",Math.abs(M-x.offset),i,r,u,void 0,e),x.delta>e&&m()}),I.createElement(ev.Provider,{value:x},s)}let eg=I.forwardRef(({children:e},t)=>{let r=I.useRef(null),n=ew(),{width:o,height:a}=(0,R.z)(e=>e.viewport);return(0,R.A)(()=>{r.current.position.x=n.horizontal?-o*(n.pages-1)*n.offset:0,r.current.position.y=n.horizontal?0:a*(n.pages-1)*n.offset}),I.createElement("group",{ref:(0,L.Z)([t,r])},e)}),ex=I.forwardRef(({children:e,style:t,...r},n)=>{let o=ew(),a=I.useRef(null),{width:i,height:u}=(0,R.z)(e=>e.size),c=I.useContext(R.f),s=I.useMemo(()=>S.createRoot(o.fixed),[o.fixed]);return(0,R.A)(()=>{o.delta>o.eps&&(a.current.style.transform=`translate3d(${o.horizontal?-i*(o.pages-1)*o.offset:0}px,${o.horizontal?0:-(u*(o.pages-1)*o.offset)}px,0)`)}),s.render(I.createElement("div",(0,O.Z)({ref:(0,L.Z)([n,a]),style:{...t,position:"absolute",top:0,left:0,willChange:"transform"}},r),I.createElement(ev.Provider,{value:o},I.createElement(R.f.Provider,{value:c},e)))),null}),eM=I.forwardRef(({html:e,...t},r)=>I.createElement(e?ex:eg,(0,O.Z)({ref:r},t)))},7848:function(e,t,r){e.exports=r(3397)},3589:function(e,t){"use strict";t.Z=function(e){return function(t){e.forEach(function(e){"function"==typeof e?e(t):null!=e&&(e.current=t)})}}}}]);