import{j as e,L as o,a as r,F as t}from"./r3-other-vendor-2c8fc3cb.js";import{d as s,aa as n,a7 as i,$ as a,T as l,J as c,b as d,M as m,C as f,ab as h,O as p,K as u}from"./r3-extend-vendor-ed1023dc.js";import{a as x}from"./react-vendor-670efa73.js";import{h as g,g as j}from"./index-4136c6eb.js";import{p as w,u as y}from"./react-fa7cfd0b.js";/* empty css                    */import"./three-vendor-6d04682c.js";const S=x.memo((({bias:n=.03})=>{const i=x.useRef(),a=.3;return s((e=>{const o=Math.sin(e.clock.elapsedTime/2),r=Math.cos(e.clock.elapsedTime/2);i.current.layers[0].origin.set(r/2,0,0),i.current.layers[1].origin.set(r,o,r),i.current.layers[2].origin.set(o,r,o),i.current.layers[3].origin.set(r,o,r)})),e.jsxs(o,{ref:i,toneMapped:!1,children:[e.jsx(r,{colorA:"#ff0080",colorB:"black",alpha:1,mode:"normal",near:.15,far:.5,origin:[0,0,0]}),e.jsx(r,{colorA:"blue",colorB:"#f7b955",alpha:1,mode:"add",near:.6,far:2,origin:[0,1,1]}),e.jsx(r,{colorA:"green",colorB:"#f7b955",alpha:1,mode:"add",near:3*a,far:3,origin:[0,1,-1]}),e.jsx(r,{colorA:"white",colorB:"red",alpha:1,mode:"overlay",near:1.5*a,far:1.5,origin:[1,-1,-1]}),e.jsx(t,{mode:"add",color:"white",intensity:.5,power:1.5,bias:n})]})}));function b({color:o="#000",text:r="",fontSize:t=2,...s}){return e.jsx(n,{...s,rotation:[-1.45,0,0],children:e.jsx("meshPhysicalMaterial",{roughness:.6,transparent:!0,polygonOffset:!0,polygonOffsetFactor:-10,children:e.jsxs(i,{attach:"map",anisotropy:16,children:[e.jsx(a,{makeDefault:!0,manual:!0,position:[0,0,15]}),e.jsx(l,{color:"#000",fontSize:t,font:"/fonts/Gilroy_ExtraBold.ttf",children:r})]})})})}const z=w({underText:"Press Keys"}),E={transmission:0,roughness:.5,metalness:.2,clearcoat:.3,emissiveIntensity:0,color:"#fff"},T=x.forwardRef(((o,r)=>{const t=x.useRef(),[s,n]=x.useState({mount:.03}),{data:i,nodes:a}=o,l=()=>{"Enter"!==i.word?j.to(t.current,{emissiveIntensity:5,ease:"power2.inOut",duration:.7,onComplete:()=>{t.current.emissiveIntensity=0}}):j.to(s,{mount:1,ease:"power2.inOut",duration:.7,onUpdate:()=>{n({mount:s.mount})},onComplete:()=>{n({mount:.03})}})},c=g((()=>{l();let e=t.current.name;if("Escape"===e?e="Esc":1===e.length&&(e=e.toUpperCase()),"Press Keys"===z.underText)z.underText=e;else if("Enter"===e)z.underText=e;else{let o=z.underText+e;o.length>10&&(o=o.substring(o.length-10)),z.underText=o}}),300);return x.useImperativeHandle(r,(()=>({keyDownAnim:l}))),e.jsxs("mesh",{castShadow:!0,receiveShadow:!0,geometry:a[i.word].geometry,position:i.position,onClick:c,name:i.word,children:[e.jsx("meshPhysicalMaterial",{ref:t,...E,color:i.color,emissive:i.color,name:i.word}),e.jsx(b,{text:i.word,fontSize:i.fontSize}),"Enter"===i.word&&e.jsx(S,{bias:s.mount})]})})),k="#E7E7E7",v=[{word:"Esc",position:[-.799,.325,-.374],color:"#FFC42A",fontSize:1.5},{word:"1",position:[-.385,.325,-.374],color:k,fontSize:2},{word:"2",position:[.025,.325,-.374],color:k,fontSize:2},{word:"3",position:[.437,.325,-.374],color:k,fontSize:2},{word:"Tab",position:[-.786,.325,.039],color:k,fontSize:1.5},{word:"Q",position:[-.314,.325,.038],color:k,fontSize:2},{word:"W",position:[.096,.325,.038],color:k,fontSize:2},{word:"E",position:[.503,.325,.038],color:k,fontSize:2},{word:"Shift",position:[-.57,.325,.448],color:"#4D69FA",fontSize:1.3},{word:"Z",position:[.1,.325,.448],color:k,fontSize:2},{word:"X",position:[.512,.325,.448],color:k,fontSize:2},{word:"C",position:[.925,.325,.448],color:"#F34206",fontSize:2},{word:"Enter",position:[.928,.325,-.211],color:k,fontSize:1.3}],A={transmission:0,roughness:.5,metalness:.2,clearcoat:.3,emissiveIntensity:0,color:"#fff"};function P(o){const{nodes:r,materials:t}=c("/models/keyboard.glb"),s=x.useRef(null),n=x.useRef([]);return x.useEffect((()=>{document.onkeydown=e=>{let o=e.key;"Escape"===o?o="Esc":1===o.length&&(o=o.toUpperCase()),s.current.children.find(((e,r)=>{if(e.name===o)if(n.current[r].keyDownAnim(),"Press Keys"===z.underText||"Enter"===z.underText)z.underText=o;else if("Enter"===o)z.underText=o;else{let e=z.underText+o;e.length>10&&(e=e.substring(e.length-10)),z.underText=e}}))}}),[]),e.jsxs("group",{...o,dispose:null,rotation:[.3*Math.PI,0,0],scale:2.1,position:[0,-.8,0],children:[e.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Board.geometry,position:[.067,.007,0],children:e.jsx("meshPhysicalMaterial",{...A,color:"#fff",roughness:.5,clearcoat:0})}),e.jsx("group",{ref:s,children:v.map(((o,t)=>e.jsx(T,{nodes:r,data:o,name:t,ref:e=>{n.current[t]=e}},t)))})]})}c.preload("/models/keyboard.glb");const M=({text:o})=>{const{width:r,height:t}=d((e=>e.viewport));return e.jsxs("mesh",{position:[0,2,-4],children:[e.jsx("planeGeometry",{args:[2*r,2*t,1]}),e.jsx(m,{transparent:!0,distort:.25,speed:2.5,children:e.jsx(i,{attach:"map",children:e.jsx(l,{color:"#000",anchorX:"center",anchorY:"middle",fontSize:3,font:"/fonts/Oswald-SemiBold.ttf",children:o})})})]})};function I(){const o=y(z);return e.jsx("section",{className:"lab_show",children:e.jsxs(f,{camera:{position:[0,0,5]},children:[e.jsx("color",{attach:"background",args:["#e0e0e0"]}),e.jsx("spotLight",{position:[20,20,10],penumbra:1,castShadow:!0,angle:.2}),e.jsx(P,{}),e.jsx(M,{text:o.underText}),e.jsx(h,{scale:100,position:[0,-2.5,0],blur:1.2,far:100,opacity:.75}),e.jsx(p,{makeDefault:!0,minPolarAngle:.45*Math.PI,maxPolarAngle:.5*Math.PI,minAzimuthAngle:.1*-Math.PI,maxAzimuthAngle:.1*Math.PI,minDistance:4,maxDistance:12,enablePan:!1}),e.jsx(u,{files:"/hdrs/empty_warehouse_01_1k.hdr"})]})})}export{I as default};
