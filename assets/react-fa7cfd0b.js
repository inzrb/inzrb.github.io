import{a as e,l as t,R as r}from"./react-vendor-670efa73.js";const n=Symbol(),s=Symbol(),o="a",c="w";const a=Object.getPrototypeOf,l=new WeakMap,f=e=>e&&(l.has(e)?l.get(e):a(e)===Object.prototype||a(e)===Array.prototype),i=e=>"object"==typeof e&&null!==e,u=e=>{if(Array.isArray(e))return Array.from(e);const t=Object.getOwnPropertyDescriptors(e);return Object.values(t).forEach((e=>{e.configurable=!0})),Object.create(a(e),t)},p=e=>e[s]||e,y=(e,t,r,a)=>{if(!f(e))return e;let l=a&&a.get(e);if(!l){const t=p(e);i=t,l=Object.values(Object.getOwnPropertyDescriptors(i)).some((e=>!e.configurable&&!e.writable))?[t,u(t)]:[t],null==a||a.set(e,l)}var i;const[g,w]=l;let b=r&&r.get(g);return b&&b[1].f===!!w||(b=((e,t)=>{const r={f:t};let a=!1;const l=(t,n)=>{if(!a){let s=r[o].get(e);if(s||(s={},r[o].set(e,s)),t===c)s[c]=!0;else{let e=s[t];e||(e=new Set,s[t]=e),e.add(n)}}},f={get:(t,n)=>n===s?e:(l("k",n),y(Reflect.get(t,n),r[o],r.c,r.t)),has:(t,s)=>s===n?(a=!0,r[o].delete(e),!0):(l("h",s),Reflect.has(t,s)),getOwnPropertyDescriptor:(e,t)=>(l("o",t),Reflect.getOwnPropertyDescriptor(e,t)),ownKeys:e=>(l(c),Reflect.ownKeys(e))};return t&&(f.set=f.deleteProperty=()=>!1),[f,r]})(g,!!w),b[1].p=(h=w||g,O=b[0],new Proxy(h,O)),r&&r.set(g,b)),b[1][o]=t,b[1].c=r,b[1].t=a,b[1].p;var h,O},g=(e,t,r,n)=>{if(Object.is(e,t))return!1;if(!i(e)||!i(t))return!0;const s=r.get(p(e));if(!s)return!0;if(n){const r=n.get(e);if(r&&r.n===t)return r.g;n.set(e,{n:t,g:!1})}let o=null;try{for(const r of s.h||[])if(o=Reflect.has(e,r)!==Reflect.has(t,r),o)return o;if(!0===s[c]){if(o=((e,t)=>{const r=Reflect.ownKeys(e),n=Reflect.ownKeys(t);return r.length!==n.length||r.some(((e,t)=>e!==n[t]))})(e,t),o)return o}else for(const r of s.o||[])if(o=!!Reflect.getOwnPropertyDescriptor(e,r)!=!!Reflect.getOwnPropertyDescriptor(t,r),o)return o;for(const c of s.k||[])if(o=g(e[c],t[c],r,n),o)return o;return null===o&&(o=!0),o}finally{n&&n.set(e,{n:t,g:o})}},w=(e,t=!0)=>{l.set(e,t)},b=e=>"object"==typeof e&&null!==e,h=new WeakMap,O=new WeakSet,[d]=((e=Object.is,t=((e,t)=>new Proxy(e,t)),r=(e=>b(e)&&!O.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)),n=(e=>{switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e}}),o=new WeakMap,c=((e,t,r=n)=>{const s=o.get(e);if((null==s?void 0:s[0])===t)return s[1];const a=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return w(a,!0),o.set(e,[t,a]),Reflect.ownKeys(e).forEach((t=>{if(Object.getOwnPropertyDescriptor(a,t))return;const n=Reflect.get(e,t),{enumerable:s}=Reflect.getOwnPropertyDescriptor(e,t),o={value:n,enumerable:s,configurable:!0};if(O.has(n))w(n,!1);else if(n instanceof Promise)delete o.value,o.get=()=>r(n);else if(h.has(n)){const[e,t]=h.get(n);o.value=c(e,t(),r)}Object.defineProperty(a,t,o)})),Object.preventExtensions(a)}),a=new WeakMap,l=[1,1],i=(n=>{if(!b(n))throw new Error("object required");const o=a.get(n);if(o)return o;let u=l[0];const p=new Set,y=(e,t=++l[0])=>{u!==t&&(u=t,p.forEach((r=>r(e,t))))};let g=l[1];const w=e=>(t,r)=>{const n=[...t];n[1]=[e,...n[1]],y(n,r)},d=new Map,j=e=>{var t;const r=d.get(e);r&&(d.delete(e),null==(t=r[1])||t.call(r))},R=Array.isArray(n)?[]:Object.create(Object.getPrototypeOf(n)),P=t(R,{deleteProperty(e,t){const r=Reflect.get(e,t);j(t);const n=Reflect.deleteProperty(e,t);return n&&y(["delete",[t],r]),n},set(t,n,o,c){const l=Reflect.has(t,n),u=Reflect.get(t,n,c);if(l&&(e(u,o)||a.has(o)&&e(u,a.get(o))))return!0;var g;j(n),b(o)&&(o=f(g=o)&&g[s]||null||o);let R=o;if(o instanceof Promise)o.then((e=>{o.status="fulfilled",o.value=e,y(["resolve",[n],e])})).catch((e=>{o.status="rejected",o.reason=e,y(["reject",[n],e])}));else{!h.has(o)&&r(o)&&(R=i(o));const e=!O.has(R)&&h.get(R);e&&((e,t)=>{if(p.size){const r=t[3](w(e));d.set(e,[t,r])}else d.set(e,[t])})(n,e)}return Reflect.set(t,n,R,c),y(["set",[n],o,u]),!0}});a.set(n,P);const v=[R,(e=++l[1])=>(g===e||p.size||(g=e,d.forEach((([t])=>{const r=t[1](e);r>u&&(u=r)}))),u),c,e=>{p.add(e),1===p.size&&d.forEach((([e,t],r)=>{const n=e[3](w(r));d.set(r,[e,n])}));return()=>{p.delete(e),0===p.size&&d.forEach((([e,t],r)=>{t&&(t(),d.set(r,[e]))}))}}];return h.set(P,v),Reflect.ownKeys(n).forEach((e=>{const t=Object.getOwnPropertyDescriptor(n,e);"value"in t&&(P[e]=n[e],delete t.value,delete t.writable),Object.defineProperty(R,e,t)})),P}))=>[i,h,O,e,t,r,n,o,c,a,l])();function j(e={}){return d(e)}function R(e,t){const r=h.get(e);const[n,s,o]=r;return o(n,s(),t)}const{use:P}=r,{useSyncExternalStore:v}=t,m=new WeakMap;function k(t,r){const n=null==r?void 0:r.sync,s=e.useRef(),o=e.useRef();let c=!0;const a=v(e.useCallback((e=>{const r=function(e,t,r){const n=h.get(e);let s;const o=[],c=n[3];let a=!1;const l=c((e=>{o.push(e),r?t(o.splice(0)):s||(s=Promise.resolve().then((()=>{s=void 0,a&&t(o.splice(0))})))}));return a=!0,()=>{a=!1,l()}}(t,e,n);return e(),r}),[t,n]),(()=>{const e=R(t,P);try{if(!c&&s.current&&o.current&&!g(s.current,e,o.current,new WeakMap))return s.current}catch(r){}return e}),(()=>R(t,P)));c=!1;const l=new WeakMap;e.useEffect((()=>{s.current=a,o.current=l}));const f=e.useMemo((()=>new WeakMap),[]);return y(a,l,f,m)}export{j as p,k as u};
