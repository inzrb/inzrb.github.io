import{u as e,j as s,E as a,T as i}from"./r3-other-vendor-2c8fc3cb.js";import{J as t,a0 as n,C as o,a1 as r,O as m}from"./r3-extend-vendor-ed1023dc.js";import{bm as c}from"./three-vendor-6d04682c.js";import{a as d}from"./react-vendor-670efa73.js";/* empty css                    */function l(a){const{scene:i,nodes:o,materials:r,animations:m}=t("/models/spiderman.glb"),{ref:c,actions:l,names:p}=n(m),{animsName:f,animsPaused:h,animsReversed:j,animsSpeed:u}=e({animsName:{label:"动画名称",options:p},animsPaused:{label:"暂停动画",value:!1},animsReversed:{label:"反向动画",value:!1},animsSpeed:{label:"动画速度",value:1,max:3,min:.1,step:.1}});return d.useEffect((()=>{const e=l[f];return console.log("action",e),e.setEffectiveTimeScale(j?-u:u),e.reset().fadeIn(.5).play(),h&&(e.paused=!0),()=>{e.fadeOut(.5)}}),[f]),d.useEffect((()=>{const e=l[f];h?e.paused=!0:(e.paused=!1,e.setEffectiveTimeScale(j?-u:u))}),[h]),d.useEffect((()=>{const e=l[f];h||e.setEffectiveTimeScale(j?-u:u)}),[j,u]),s.jsxs("group",{...a,castShadow:!0,receiveShadow:!0,ref:c,children:[s.jsx("skinnedMesh",{castShadow:!0,receiveShadow:!0,name:"Spiderman",geometry:o.Spiderman.geometry,material:r.Body_sub1SpidermanBody,skeleton:o.Spiderman.skeleton}),s.jsx("primitive",{object:o.mixamorigHips})]})}function p(){return s.jsx("section",{className:"lab_show",children:s.jsxs(o,{gl:{toneMapping:c},shadows:!0,dpr:[1,1.5],camera:{position:[0,0,8],fov:45,near:1,far:45},children:[s.jsx(f,{}),s.jsx(l,{position:[0,-1,0],rotation:[Math.PI/2,0,0],scale:.01})]})})}function f(){return s.jsxs(s.Fragment,{children:[s.jsx("color",{attach:"background",args:["#f0f0f0"]}),s.jsx("ambientLight",{intensity:2}),s.jsx("directionalLight",{intensity:2,position:[-5,5,5],castShadow:!0,"shadow-mapSize":1024}),s.jsx("pointLight",{intensity:1,position:[-.15,1,0]}),s.jsx("pointLight",{intensity:1,position:[2,1,0]}),s.jsxs("mesh",{rotation:[-.5*Math.PI,0,0],position:[0,-1.01,0],receiveShadow:!0,children:[s.jsx("planeGeometry",{args:[100,100]}),s.jsx("shadowMaterial",{transparent:!0,opacity:.8})]}),s.jsx(r,{size:40,samples:32,focus:0}),s.jsx(a,{children:s.jsx(i,{middleGrey:1,maxLuminance:16})}),s.jsx(m,{makeDefault:!0,minDistance:4,maxDistance:15,enablePan:!1})]})}export{p as default};
